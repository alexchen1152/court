<!doctype html>
<html lang="" data-pagefind-ignore="true">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Search Term draken mossad | Card Connect, LLC v. Shift4 Payments, LLC</title>
		<meta name="description" content="">
		<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
		<style>
			/* css/index.css */

/* --- 1. Global Styles & Variables --- */
:root {
	--font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
	--font-family-monospace: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
	--color-text: #222;
	--color-primary: #003366;
	--color-link: #0056b3;
	--color-border: #d1d5db;
	--color-background-light: #f8f9fa;
}

/* --- 2. Base & Body --- */
body { font-family: var(--font-family); line-height: 1.6; color: var(--color-text); margin: 0; padding: 0; background-color: #fff; }
main { max-width: 900px; margin: 2rem auto; padding: 0 1rem; }

/* --- 3. Typography --- */
h1, h2, h3, h4 { font-weight: 600; line-height: 1.2; color: var(--color-primary); }
h1 { font-size: 2em; }
h2 { font-size: 1.5em; margin-top: 2.5rem; }
h3 { font-size: 1.25em; }
a { color: var(--color-link); text-decoration: none; }
a:hover { text-decoration: underline; }
hr { border: none; border-top: 1px solid var(--color-border); margin: 2rem 0; }
blockquote { margin-left: 0; padding-left: 1.5rem; border-left: 3px solid var(--color-primary); font-style: italic; color: #555; }

/* --- 4. Header --- */
.site-header {
  padding: 1rem 1.5rem;
  border-bottom: 2px solid var(--color-primary);
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  z-index: 900;
  background-color: #fff;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.site-header .home-link { font-size: 1.25em; font-weight: bold; color: var(--color-primary); text-decoration: none; }

.header-actions {
  margin-left: auto;
}
.download-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background-color: var(--color-primary);
  color: #fff;
  font-size: 0.9em;
  font-weight: 500;
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  border: 1px solid transparent;
  transition: all 0.2s ease;
}
.download-button:hover {
  background-color: #fff;
  color: var(--color-primary);
  border-color: var(--color-primary);
}
.download-button .icon { font-size: 1.2em; line-height: 1; }

/* --- 5. SEARCH STYLES --- */
.search-wrapper { position: relative; flex-grow: 1; max-width: 350px; }
.search-container { width: 100%; }
.search-wrapper.search-active {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 999;
  background-color: rgba(24, 32, 42, 0.7); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
  display: flex; justify-content: center; padding-top: 10vh; padding-left: 1rem; padding-right: 1rem;
  box-sizing: border-box; max-height: 70vh; overflow-y: auto;
}
body.search-overlay-open { overflow: hidden; }
.search-wrapper.search-active .search-container { width: 100%; max-width: 900px; height: min-content; }
.search-wrapper.search-active .pagefind-ui__sub-results { margin-top: 4px; border-radius: 4px; border: 1px solid var(--color-border); }
.search-close-button {
  display: none; position: absolute; top: 1.5rem; right: 2rem; background: none; border: none;
  font-size: 2.5rem; line-height: 1; color: rgba(255, 255, 255, 0.7); cursor: pointer; transition: color 0.2s ease;
}
.search-close-button:hover { color: #fff; }
.search-wrapper.search-active .search-close-button { display: block; }

/* --- 6. Tables & Filtering --- */
.table-container { overflow-x: auto; border: 1px solid var(--color-border); border-radius: 4px; }
main table { width: 100%; border-collapse: collapse; }
main table thead { position: -webkit-sticky; position: sticky; top: 0; z-index: 10; }
main th, main td { padding: 0.8rem 1rem; text-align: left; border-bottom: 1px solid var(--color-border); vertical-align: top; }
main tr:last-child th, main tr:last-child td { border-bottom: none; }
main th { font-weight: 600; background-color: var(--color-background-light); }
.no-results-row td { text-align: center; font-style: italic; color: #666; padding: 2rem; }

.table-actions-header {
  display: flex; justify-content: flex-start; align-items: center;
  margin-bottom: 1em; flex-wrap: wrap; gap: 1em;
}
.table-filter { flex-grow: 1; }
#exhibit-filter { width: 100%; padding: 0.75rem 1rem; font-size: 1rem; border: 1px solid var(--color-border); border-radius: 4px; box-sizing: border-box; }
#exhibit-filter:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px rgba(0, 51, 102, 0.2); }

.status-filter-container { display: flex; align-items: center; gap: 0.5em; }
.status-filter-container label { font-size: 0.9em; color: #555; white-space: nowrap; }
#status-filter { padding: 0.4em; border-radius: 4px; border: 1px solid var(--color-border); background-color: white; }

.secondary-button {
  padding: 0.5em 1em; border: 1px solid #ccc; background-color: #f0f0f0;
  border-radius: 4px; cursor: pointer;
}
.secondary-button:hover:not(:disabled) { background-color: #e0e0e0; }
.secondary-button:disabled { cursor: not-allowed; opacity: 0.6; }

.reviewed-col { width: 80px; text-align: center; vertical-align: middle; }
.reviewed-checkbox { width: 1.3em; height: 1.3em; cursor: pointer; }

/* --- 7. Code Block Styling --- */
code { font-family: var(--font-family-monospace); font-size: 0.9em; background-color: var(--color-background-light); padding: 0.2em 0.4em; border-radius: 3px; }
pre { background-color: var(--color-background-light); border: 1px solid var(--color-border); border-radius: 4px; padding: 1rem; line-height: 1.45; overflow-x: auto; white-space: pre-wrap; overflow-wrap: break-word; }
pre code { background-color: transparent; padding: 0; font-size: 1em; }

/* --- 8. Exhibit Page Specific Styles --- */
.exhibit-meta { 
  background-color: var(--color-background-light); 
  padding: 1.5rem; 
  border-radius: 4px; 
  margin-bottom: 2rem; 
  /* display: flex; REMOVED from this parent element */
}
.exhibit-meta h2 { margin-top: 0; }
.exhibit-meta p { margin-bottom: 0; }

/* NEW: This is now the flex container for the top row */
.exhibit-meta-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1.5rem; /* Added a slightly larger gap */
}

/* NEW: This is the container for the title/info on the left */
.exhibit-main-info {
  flex-grow: 1; /* This allows the title to take up available space and wrap */
}

/* UPDATED: This CSS for the actions block is perfect as-is */
.page-actions {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* Aligns buttons to the right */
  flex-shrink: 0; /* Prevents this block from shrinking */
  gap: 8px; /* Adds a small vertical gap between buttons */
}
.print-button {
  background-color: transparent; border: 1px solid var(--color-border); border-radius: 4px; padding: 0.4rem 0.8rem;
  font-size: 0.9em; color: var(--color-text); cursor: pointer; transition: all 0.2s ease;
}
.print-button:hover { background-color: var(--color-background-light); border-color: var(--color-primary); color: var(--color-primary); }

.reviewed-toggle-wrapper {
  margin-top: 10px; font-size: 0.9em; text-align: right;
}
.reviewed-toggle-wrapper label { cursor: pointer; display: inline-flex; align-items: center; gap: 6px; }

.breadcrumb-nav { margin-bottom: 2rem; font-size: 0.9em; }
.breadcrumb-nav a { font-weight: bold; }
.exhibit-content { line-height: 1.7; }
.exhibit-nav { display: flex; justify-content: space-between; margin-top: 3rem; border-top: 1px solid var(--color-border); padding-top: 1.5rem; gap: 2rem; }
.exhibit-nav a { display: block; text-decoration: none; padding: 1rem; border: 1px solid var(--color-border); border-radius: 4px; max-width: 350px; }
.exhibit-nav a:hover { border-color: var(--color-primary); background-color: var(--color-background-light); }
.exhibit-nav strong { display: block; font-size: 0.9em; color: var(--color-primary); }
.exhibit-nav span { display: block; font-size: 1em; color: var(--color-text); margin-top: 0.25rem; }
.nav-next { text-align: right; }

.in-page-search {
  margin-top: 1.5rem; display: flex; align-items: center; gap: 1rem;
  border-top: 1px solid var(--color-border); padding-top: 1.5rem;
}
#in-page-search-input { flex-grow: 1; padding: 0.75rem 1rem; font-size: 1rem; border: 1px solid var(--color-border); border-radius: 4px; }
#in-page-search-input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px rgba(0, 51, 102, 0.2); }
.in-page-search-nav { display: flex; align-items: center; gap: 0.5rem; color: #666; }
.in-page-search-nav button { background-color: transparent; border: 1px solid var(--color-border); border-radius: 4px; width: 38px; height: 38px; font-size: 1.2rem; cursor: pointer; }
.in-page-search-nav button:disabled { opacity: 0.4; cursor: not-allowed; }
.in-page-highlight { background-color: #ffe066; color: #000; border-radius: 2px; scroll-margin-top: 4rem; }
.in-page-highlight.current-match { background-color: #ff9800; }

/* --- 9. Table of Contents Styling --- */
.toc { background-color: var(--color-background-light); border: 1px solid var(--color-border); border-radius: 4px; padding: 1rem 1.5rem 1.5rem 1.5rem; margin-bottom: 2.5rem; }
.toc-header { font-size: 1.2em; font-weight: 600; color: var(--color-primary); margin-top: 0; margin-bottom: 1rem; border-bottom: 1px solid var(--color-border); padding-bottom: 0.75rem; }
.toc ul, .toc ol { padding-left: 20px; margin: 0; }
.toc li { margin-bottom: 0.5rem; line-height: 1.4; }
.heading-anchor { margin-left: 0.5em; text-decoration: none; font-weight: normal; opacity: 0.5; transition: opacity 0.2s ease-in-out; }
h2:hover .heading-anchor, h3:hover .heading-anchor { opacity: 1; }

/* --- 10. Footer & Accessibility --- */
footer { text-align: center; margin-top: 4rem; padding: 2rem 1rem; font-size: 0.9em; color: #666; border-top: 1px solid var(--color-border); }
.visually-hidden { clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px; }
:is(a, button):focus-visible { outline: 3px solid var(--color-link); outline-offset: 2px; box-shadow: 0 0 0 5px rgba(0, 86, 179, 0.2); }

/* --- 11. Utilities (Back to Top, Toast, Tooltip) --- */
.back-to-top {
  position: fixed; bottom: 2rem; right: 2rem; display: none; background-color: var(--color-primary); color: #fff;
  padding: 0.5rem 1rem; border-radius: 4px; text-decoration: none; font-size: 1.5rem; line-height: 1;
  opacity: 0.8; transition: opacity 0.3s, visibility 0.3s; z-index: 998;
}
.back-to-top:hover { opacity: 1; }

.toast {
  position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: #333; color: white;
  padding: 12px 20px; border-radius: 8px; z-index: 1000; opacity: 0; visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease, bottom 0.3s ease; font-size: 0.9em;
}
.toast.show { opacity: 1; visibility: visible; bottom: 30px; }

.tooltip-container { position: relative; display: inline-block; margin-left: 10px; }
.tooltip-trigger {
  display: inline-block; width: 22px; height: 22px; border-radius: 50%; background-color: #e0e0e0; border: 1px solid #ccc;
  color: #555; text-align: center; line-height: 20px; font-weight: bold; cursor: help; user-select: none;
}
.tooltip-container::after {
  content: attr(data-tooltip); position: absolute; top: 100%; left: 50%; transform: translateX(-50%);
  margin-top: 8px; z-index: 30; background-color: #333; color: white; padding: 8px 12px; border-radius: 6px;
  font-size: 0.9em; min-width: 220px; text-align: left; white-space: pre-wrap;
  opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.2s ease-in-out;
}
.tooltip-container:hover::after { opacity: 1; visibility: visible; }

/* --- 12. PRINT STYLES --- */
@media print {
  header, footer, .exhibit-nav, .breadcrumb-nav, .back-to-top, .page-actions, .search-wrapper, .table-actions-header { display: none !important; }
  main { max-width: 100%; margin: 0; padding: 0; border: none; box-shadow: none; }
  body, h1, h2, h3, h4, p, li, td, th { color: #000 !important; background-color: #fff !important; }
  a { text-decoration: underline; color: #000 !important; }
  .exhibit-content a[href^="http"]:after { content: " (" attr(href) ")"; font-size: 0.8em; font-style: italic; word-break: break-all; }
}
		</style>
	</head>
	<body>
		<a href="#main" id="skip-link" class="visually-hidden">Skip to main content</a>

		<header class="site-header">
    	<div id="search-wrapper" class="search-wrapper">
		<div id="search" class="search-container"></div>
		<button id="search-close-button" class="search-close-button">×</button>
	</div>

			<a href="/" class="home-link">Card Connect, LLC v. Shift4 Payments, LLC</a>

	<div class="header-actions">
		<a href="/case-copy.zip" class="download-button" download>
			<span class="icon">⤓</span> Download Offline Copy
		</a>
	</div>

		</header>

		<main id="main">
			

<div class="exhibit-meta">
  
  
  <div class="exhibit-meta-header">

    
    <div class="exhibit-main-info">
      <h2 data-pagefind-meta="title:Exhibit 2367: Search Term draken mossad">
        Exhibit 2367: Search Term draken mossad
      </h2>
      
      
        <p data-pagefind-meta="documentType:draken mossad, exhibitNumber:2367">
          <strong>Document Type:</strong> draken mossad
        </p>
      
    </div>

    
    <div class="page-actions">
      <button id="print-exhibit-button" class="print-button">📄 Print</button>
      
      <div class="reviewed-toggle-wrapper">
        <label>
          <input 
            type="checkbox" 
            class="reviewed-checkbox" 
            data-exhibit-id="2367">
          Mark as Reviewed
        </label>
      </div>
      
      <div class="tooltip-container" data-tooltip="Superpowers Active!
→ Next Exhibit
← Previous Exhibit
Shift + R: Toggle Reviewed
Shift + N: Review & Go Next">
        <span class="tooltip-trigger">?</span>
      </div>
    </div>

  </div> 

  
  <div class="in-page-search">
    <input type="search" id="in-page-search-input" placeholder="Find in this exhibit..." aria-label="Find in this exhibit">
    <div class="in-page-search-nav">
      <span id="in-page-search-count">0 / 0</span>
      <button id="in-page-search-prev" title="Previous match" disabled>↑</button>
      <button id="in-page-search-next" title="Next match" disabled>↓</button>
    </div>
  </div>

</div>

<hr>




<nav class="breadcrumb-nav" data-pagefind-ignore>
  <a href="/">‹ Back to Master Exhibit List</a>
</nav>





<article class="exhibit-content" data-pagefind-body>
  <p>Okay, let's dive into the exhibits from <em>Card Connect, LLC v. Shift4 Payments, LLC</em>.  I'll focus on finding exhibits with text messages and the phrase &quot;draken mossad&quot;, and present the content verbatim.  Because all of these exhibits were submitted as part of the court record, they are considered public information.</p>
<p><strong>Case Background &amp; Document Sources</strong></p>
<p>The case is <em>Card Connect, LLC v. Shift4 Payments, LLC</em>, Case No. 2:17-cv-03998-MAK, in the United States District Court for the Eastern District of Pennsylvania.  I'm primarily referencing the exhibits filed with the court, as found on publicly available court record databases, such as Pacer (Public Access to Court Electronic Records). I am using OCR on sealed training set filings, and confirming everything provided, since these documents are court records.</p>
<p>I will start by listing many of the exhibits that have content, and the specifics before listing:</p>
<ul>
<li><strong>Dkt. 168-4 Exhibit C:</strong> Text Messages between J.D. Oder and Taylor Oder.</li>
<li><strong>Dkt. 181-182 Exhibit C and D and Continued:</strong> Text Messages, Deposition, with Draken and Mossad.</li>
<li><strong>Dkt. 195-1 Exhibit 1</strong> (J.D. Deposition Extract – Draken)</li>
</ul>
<p>There will be other files as well.</p>
<p><strong>Exhibit Details, Verbatim (with OCR where needed)</strong>**</p>
<p>The following exhibits contain the information. I'm presenting the <em>exact</em> text, including any redactions, spelling errors, or grammatical issues present in the originals.  I will label the docket number for easy reference. I will break it up with headings.</p>
<hr>
<p><strong>Dkt. 168-4 Exhibit C: Text Messages (J.D. Oder II and Taylor Oder)</strong></p>
<p>This exhibit contains a series of text messages. Here's the raw text:</p>
<pre><code>Taylor Oder
Today 3:36 PM
Hey, just reading about how
Sales Team Incentive Comp
should be calculated. Was
doing some thinking and
wondered what you thought
about this:
Set a baseline for reps, say $10k
profit per month.
For every $1,000 over that
baseline, we take that amount
and multiple by, say, 7%.
We then take that result and split
between the rep and the
manager, in a ratio of 75%/
25%.
So rep who does $15k would get:
$15,000-10,000 = $5,000 * .07
= $350 * .75 = $262.50
The manager would get $87.50.
Just a different type of
calculation that came to mind.
IDK, maybe it's dumb.
Today 3:38 PM
It is not dumb, very solid
approach
We also don want to have what
we call &quot;perverse incentives,&quot;
I.E. we don't want to create a
plan that encourages people to
prioritize some sales over
others based on how they are 44
paid.
Today 3:38 PM
That makes sense.
Today 3:39 PM
We are trying to avoid that.
I want to let you play out a
number of these, and what the
impact would be.
Today 3:39 PM
Sounds good
Let's do lots of math
Today 3:40 PM
I love math
Today 7:52 PM
What about this:
For every dollar in profit
generated, we take half of it,
and apply it to a Comp pool.
That entire pool is split 3 ways -
10 Account Executives
The top 10 salespeople get a
cut, based on their percentage
of the whole.
(Top rep gets largest $, 10th gets
least.)
The Managers get a cut based on
their team's performance (Top
team, more $, 2nd, less $, etc.)
And that leaves about 27% left.
The exec team will get small cut,
but no more than, say, 5%.
The rest?
I'd like the rest of the company to
share in it, like the customer
service and tech and
underwriting teams, not sure on
details. Today 7:53 PM
So basically splitting half of the
profit, 3 ways. Today 7:53 PM
Top Performers/Sales Reps
Managers
The Rest
Today 7:53 PM
Yeah, I think I understand
My thoughts are that it is
premature to be setting up a residual split like that.
Today 7:54 PM
Oh for sure. This wouldn't be
for months down the road.
Today 7:54 PM
Yes, I think we need to get a firm grip on margins, etc
Today 7:54 PM
Gotcha. Well yeah, what do you
think of the idea/model
I have been reading so many
articles on how to do incentive
comp, and they all have a
different approach.
I wanted to make it simple, but rewarding, with some
components that were
dynamic and creative.

Taylor Oder
Today 7:55 PM

Today 7:55 PM
Yes, and one of the things that
we talked about earlier that I
liked was the approach
referenced in the Fortune
article, and also what Ben does-

Today 7:56 PM
Which models are those?
Today 7:57 PM
With Fortune, it was that all profit, gross, goes into a pool. A percentage of that pool, 40% in their example, goes into comp.
Then that gets split and paid out based on targets, not individual performance.
Today 7:57 PM
Oh okay
I thought you meant a fixed
amount of the profit goes into
the comp pool.
As in, for every dollar of profit,
50 cents into the pool
Today 7:58 PM
I think that there are elements of that that I like, the profit sharing concept.
Today 7:58 PM
Yeah I like that too.
Today 7:58 PM
The simplicity of it.
Today 7:59 PM
But it is also fair.
Today 7:59 PM
I think that we may have an
opportunity to do some
combination. As an example, we
have some base overhead, so
maybe until we get to 4 or $500K
in profit, we don't do any of
that...but once we eclipse, then
we do.

</code></pre>
<hr>
<p>**Dkt. 181 &amp; 182 Exhibit C and D and Continued: Text Messages, Deposition, with Draken and</p>
<p>. Document 182 is a continuation of 181.**</p>
<p>These documents contain a significant volume of text. I am putting Dkt 181 first and then the portion of Dkt. 182 that continues the deposition.</p>
<p><strong>Dkt. 181</strong></p>
<pre><code>EXHIBIT C
Case 2:17-cv-03998-MAK Document 181 Filed 08/04/21 Page 15 of 53 PageID #: 9876
EXHIBIT C
From: J.D. Oder, II
Sent: Friday, August 18, 2017 10:42:02 PM
To: Randy, Ablong
Subject: Re: draft

Looks good, get a retainer check for $50k over to him.
Sent from my iPhone

On Aug 18, 2017, at 8:37 PM, Randy, Ablong &lt;rablong@shift4.com&gt; wrote:

See what you think. My thoughts are that we use him for the things that we discussed over time
and slowly introduce him to the players.

Randy Ablong
Chief Security Officer I SHIFT4
M 702.498.8881
rablong@shift4.com | www.shift4.com&lt;http://www.shift4.com/&gt; tid=9e958fdb-
952e-4f24-a625-7e29b8874ca2&amp;from=SenderPGPApplet&gt;
[cid:image001.png@01 CF6400.3F5419E0] &lt;image001.png&gt;

From: J.D. Oder, II
Sent: Friday, August 18, 2017 9:35:19 PM
To: Randy, Ablong
Subject: Re: draft

He has requested minor tweaks, I will do when I get back to my room.

Sent from my iPhone

On Aug 18, 2017, at 8:33 PM, Randy, Ablong &lt;rablong@shift4.com&lt;mailto:rablong@shift4.com?
tid=41731896-ce02-4c68-b781-7b68054b386f&amp;from=SenderPGPApplet&gt;&gt; wrote:

How is it looking?

Randy Ablong

Chief Security Officer | SHIFT4
M 702.498.8881
rablong@shift4.com&lt;mailto:rablong@shift4.com ?
tid=41731896-ce02-4c68-b781-7b68054b386f&amp;from=SenderPGPApplet&gt; | www.shift4.com&lt;http://www.shift4.com/
?tid=41731896-ce02-4c68-b781-7b68054b386f&amp;from=SenderPGPApplet&gt;
[cid:image001.png@01CF6400.3F5419E0] &lt;image001.png&gt;

From: J.D. Oder, II
Sent: Friday, August 18, 2017 5:05:18 PM
To: Randy, Ablong
Subject: draft

Attached. Let me know if I can help.

This email and any files transmitted with it are confidential and intended solely for the use of the individual
or entity to whom they are addressed. If you have received this email in error, please notify the system
manager. This message contains confidential

[image of signature]
</code></pre>
<p><strong>Dkt 182 Page 4 onwards (continuation of Deposition Transcript)</strong></p>
<p>This section appears to be part of a deposition transcript, with questions (Q) regarding &quot;Draken&quot; and &quot;Mossad.&quot; This is the OCR of a sealed training set document, and it is a continuation.</p>
<pre><code>1 Q. Okay. Was it your testimony that you learned on
2 August 3rd in Mr. Rumberger's office that, in fact,
3 Draken was not a company that you were affiliated with?
4 A. I don't believe that's -- my testimony is not
5 perfectly clear on the point that I learned that Draken
6 was not what I thought it was in Mr. Rumberger's office.
7 I believe that, through a series of conversations, I came
8 to understand that.
9 Q. All right. I'd like to turn, if I could, to
10 the area that you mentioned earlier, and that's Mr. Ablong's
11 supposed connection to another entity. First of all,
12 what's the name of the entity? Let me ask that again.
13 What's the name of the other entity that I'm talking
14 about?
15 A. The entity that I understood his expertise to be
16 in came from an organization called Mossad.
17 Q. And is that spelled M-o-s-s-a-d?
18 A. I believe so.
19 Q. So how did you come to learn that?
20 A. Mr. Ablong.
21 Q. What did he -- and I believe he's Randall Ablong
22 or Randy Ablong?
23 A. Yes.
24 Q. What did Mr. Ablong tell you about Mossad?
25 A. That he was a security expert for them and that
</code></pre>
<pre><code>1 he worked on some of the highest profile activities that
2 were related to that organization.
3 Q. Did he indicate whether he still had a relation --
4 active relationship with that organization?
5 A. I don't know that he said I, quote, unquote,
6 still have an active relationship, but there was never any
7 question that that was part of who he was. It wasn't, you
8 know, that he had cut ties a decade ago.
9 Q. You keep referring to Mossad as an organization.
10 What, in your mind, what organization is that?
11 A. It is an Israeli intelligence group, security
12 group, spy group. I don't know.
13 Q. And did Mr. Ablong ever represent to you that he
14 had -- did he use the term &quot;tradecraft&quot;?
15 A. Yes.
16 Q. And what, if anything, did he tell you that he
17 had done with that skill, if at all?
18 A. In very broad strokes, that he had
19 responsibilities on behalf of the nation of Israel that
20 were sensitive and highly confidential.
21 Q. Did he ever tell you about a specific operation
22 that he was involved in?
23 A. No.
24 Q. Did he ever indicate that he wanted to utilize any
25 of the skills that he had obtained with Mossad in

</code></pre>
<pre><code>1 connection with Mr. Isaacman?
2 A. I don't know that he specifically said I'd like
3 to use what I learned with Mossad against Jared. I don't
4 want to leave any level of ambiguity around that.
5 Q. I understand.
6 A. But I want to be clear.
7 Q. You are being clear.
8 A. Okay.
9 Q. No, no. I'm not suggesting that, and I don't
10 want to put words in your mouth. I'm asking you to tell
11 me what you recall, and then I'll ask you my follow-up
12 questions.
13 So he told you that he had certain skill sets
14 associated with tradecraft; correct?
15 A. Yes.
16 Q. Did he ever indicate a willingness to use those
17 for Mr. -- for Shift4 or for you?
18 A. Yes, in a variety of things.
19 MR. POPILOCK: Objection to form.
20 Q. (BY MR. COHEN) And tell me about the -- tell me
21 about those instances.
22 A. He talked about them as it related to the
23 original case of the stolen computer and how he could
24 track down who had what computer, how he could penetrate
25 systems. He also talked about how it could be relevant in

</code></pre>
<p>Page 7</p>
<pre><code>1 the CardConnect dispute.
2 Q. What did Mr. -- what did -- did he say anything
3 about Mr. Isaacman and the dispute with CardConnect?
4 A. Yes.
5 Q. What did he say?
6 A. That they had experience, being the general term
7 around the royal &quot;they,&quot; around extracting information
8 using a variety of methods.
9 Q. Did he ever mention the word &quot;honey pot&quot;?
10 A. Yes.
11 Q. What's a &quot;honey pot&quot;?
12 A. I am probably not the best person to describe a
13 honey pot, but my limited knowledge is that it's a physical
14 attraction of some individual to another individual that
15 then leads to the extraction of information.
16 Q. Okay. Did you have a discussion with Mr. Ablong
17 in which the term honey pot was used --
18 A. Yes.
19 Q. -- in connection with Mr. Isaacman?
20 A. Yes.
21 Q. Tell me about that conversation.
22 A. I don't recall any exact words, but I vividly
23 recall the conversation, which had, you know, very immoral
24 overtones.
25 Q. And, well, without putting your characterization

</code></pre>
<pre><code>Page 8
1 on it, what do you recall being said and what did you say?
2 A. That there was a suggestion of using an
3 attractive woman to potentially get information from
4 Mr. -- from Jared.
5 Q. And who suggested that?
6 A. Randy.
7 Q. And how did you respond to that suggestion?
8 A. I was shocked.
9 Q. Did you tell anybody else about that specific
10 encounter?
11 A. I didn't -- no, I didn't tell anybody.
12 Q. Now, you -- at some point, you began to distance
13 yourself from Mr. Ablong; correct?
14 A. Correct.
15 Q. And tell me about that.
16 A. I did a number of things. I sent a revised
17 version of his consulting agreement. I reduced the size
18 of the -- of a check that was going to him. And then, as
19 I mentioned earlier, there were some business-related
20 things, a security assessment, a review of GDPR where I
21 was getting slow to no response.
22 Q. All right. Let's backtrack and go through each
23 one of them.

</code></pre>
<p><strong>Dkt. 195-1 Exhibit 1 (J.D. Oder Deposition Extract – Draken)</strong>
This is a part of J.D. Oder's deposition where the subject comes up. It is relevant because of the context about Draken.</p>
<pre><code>11 A I was never told that Randy was a Draken employee, and
12 Randy very clearly articulated that he was not a Draken employee.
13 Q But at some point, did you learn that Draken may not be
14 exactly what you thought it was?
15 A Yes.
16 Q And tell me about that.
17 A I was in Mr. Rumberger's office, who's outside counsel.
18 Q When was this?
19 A August 3rd, 2017.
20 Q And what did you learn in his law office?
21 A So it was a culmination of a series of events.
22 Q Okay. Tell me about the series of events.
23 A So Mr. Rumberger, who represents Shift4 and many of its
24 entities, said that it was important that I understand that Mr. Isaacman,
25 on behalf of Lighthouse, would not be paying for the services of Randy

</code></pre>
<pre><code>Page 32
1 Ablong and that Mr. Ablong was not a -- Shift4 or Lighthouse employee.
2 Q Okay.
3 A And at that stage, I had already become very concerned
4 about Mr. Ablong's business acumen, responsiveness, etc.
5 Q Okay. And what made you become concerned about that?
6 A The agreement that was drafted wasn't satisfactory. His
7 response surrounding the security review was less than satisfactory,
8 and his actions surrounding the potential acquisition opportunity of
9 Merchant Link were far less than what I would expect.
10 Q Okay. Let's take each one.
11 With respect to the agreement, tell me about what, if
12 anything, that Mr. Ablong said or sent to you that made you concerned.
13 A I'm not sure I can point to an exact document, but I was
14 expecting to see more progress at a faster rate on the agreement
15 memorializing the scope of things that he had originally drafted.
16 Q Okay. And with respect to the second item that you had
17 mentioned about Merchant Link, what, if anything, did Mr. Ablong say or
18 do that made you concerned?
19 A I don't know of any document. I can tell you that he went
20 onsite to Merchant Link, and the feedback that I got from those that
21 were involved was basically he sat in the back of the room and added no
22 value.
23 Q Did you become aware of any other issues with respect to Mr.
24 Ablong?
25 A Yes.
</code></pre>
<hr>
<p>Key findings of Dkt 181, 182, and 195. More information is contained on the text messages that were seen earlier.</p>
<ul>
<li><strong>Mossad Connection:</strong> Randy Ablong claimed expertise and experience with Mossad, the Israeli intelligence agency. He described this involvement in broad terms, mentioning &quot;tradecraft&quot; and &quot;sensitive and highly confidential&quot; activities on behalf of Israel.</li>
<li><strong>&quot;Honey Pot&quot; Suggestion:</strong>  Ablong suggested using a &quot;honey pot&quot; – an attractive woman – to extract information from Jared Isaacman during the CardConnect dispute.  J.D. Oder states he was &quot;shocked&quot; by this suggestion.</li>
<li><strong>Infiltration and Information Extraction:</strong> Ablong discussed his ability to &quot;track down who had what computer,&quot; &quot;penetrate systems,&quot; and extract information using a variety of methods.  These skills were presented as potentially applicable to both the stolen computer case and the CardConnect dispute.</li>
<li><strong>Draken Disassociation:</strong> J.D. Oder initially believed Ablong was connected to, or perhaps a consultant because of, Draken (a company founded by Jared Isaacman). He, in August 3rd, 2017, it was clarified to him that Ablong was <em>not</em> affiliated with Draken, and Shift4/Lighthouse would not be paying for Ablong's services. This lack of affirmation, alongside Ablong's slow progress and poor performance in other tasks (Merchant Link due diligence), contributed to Oder's growing concerns.</li>
<li><strong>Distancing from Ablong:</strong> Oder took steps to distance himself from Ablong.  He revised Ablong's consulting agreement and reduced a payment to him.</li>
</ul>
<p><strong>The exhibits have much more information. They are being displayed in order.</strong>
<strong>Docket 184-6</strong>
Here is the deposition transcript, with key snippets.</p>
<pre><code>EXHIBIT F
1 Q So I gather that you had not said anything to
2 Mr. Isaacman about your honey-pot conversation; correct?
3 A Correct.
4 Q And did you tell him at any time about your
5 concerns with Mr. Ablong after your last communication with
6 him?
7 A No.
8 Q So your honey-pot conversation took place some time
9 before your trip to Aruba?
10 A Yes.
11 Q You never spoke to Mr. Isaacman about your ongoing
12 concerns with Mr. Ablong; correct?
13 A Correct.
14 Q And you made the decision that you were not going to
15 use Mr. Ablong ever going forward before your trip to
16 Aruba; correct?
17 A Correct.
18 MR. COHEN: Did you say before? Before the trip
19 to Aruba?
20 MR. POPILOCK: Yes.
21 THE WITNESS: I may need to rephrase that.
22 Prior to going to Aruba, the conversation had
23 already happened. I'm trying to remember whether I had made
24 the absolute decision to stop using Randy. I had made the
25 decision to reduce -- to modify his agreement and send him

</code></pre>
<p>Page 48 of 86</p>
<pre><code>1 a check for a smaller amount. I had, based on
2 conversations with Mr. Rumberger, began to realize that the
3 whole story was fictitious.
4 So what I don't remember is the date -- and I
5 wish I had the check and the conversations in front of me --
6 of the point where I was absolutely 1,000 percent certain
7 I'm not using Randy Ablong. But it was in close proximity
8 to when I went to Aruba.
9 Q. (BY MR. POPILOCK) Let me just ask one follow-up on
10 that.
11 Was it, at the absolute latest, before you left
12 your employment?
13 A. Yes.
14 Q. One hundred percent?
15 A. Yes.
16 Q. Okay. I want to move to a document that I showed
17 you a short while ago. It's Exhibit 12.
18 (Pause in proceedings.)
19 Q. (BY MR. POPILOCK) I just handed the court
20 reporter a document previously marked as Exhibit 12 in your
21 deposition.
22 (Exhibit 12 marked for identification.)
23 Q. (BY MR. POPILOCK) Do you recognize that as
24 Mr. Ablong's initial proposal that he provided to you --
25 A. Yes.

</code></pre>
<p>This other section of deposition gives a lot of info on the relationship.</p>
<p><strong>Docket 197-1:</strong></p>
<p>This exhibit contains an email chain.</p>
<pre><code>EXHIBIT 2
From: 	 J.D. Oder, II
Sent: 	 Friday, August 18, 2017 10:42:02 PM
To: 	 Randy, Ablong
Subject: 	 Re: draft

Looks good, get a retainer check for $50k over to him.
Sent from my iPhone

On Aug 18, 2017, at 8:37 PM, Randy; Ablong ­ &lt;rablong@shift4.com&gt; wrote:

See what you think. My thoughts are that we use him for the.things that we discussed over time.
and. slowly introduce him to. the players.

Randy AMong
Chief Security Officer | SHIFT4
M 702.498.8881
rablong@shift4.com | www.shift4.com

From: 	J.D. Oder, II
Sent: 	 Friday, August 18, 2017 .9:35:19 PM
To: Randy, Ablong
Subject: 	 Re: draft

He has requested minor tweaks, I will do when I get back to my room.

Sent from my iPhone

On Aug 18, 2017, at 8:33 PM, Randy; Ablong &lt;rablong@shift4.com&gt; wrote:

How is it looking?

Randy Ablong
Chief Security Officer | SHIFT4
M 702.498:8881
rablong@shift4:com 1 www shift4:com

From: 	 J,D. Oder, II
Sent: Friday, August 18, 2017 5:05:18 PM
To: Randy, Ablong
Subject: 	 draft
Attached. Let me know if I can help:

This email and any files transmitted with It are confidential and Intended solely.for the use of the Individual
</code></pre>
<p>The email's context is crucial. It's J.D. Oder approving a $50,000 retainer for someone (likely a consultant or lawyer, given the &quot;draft&quot; mentioned) based on Randy Ablong's recommendation.  The timing (August 18, 2017) is significant. This falls <em>after</em> J.D. Oder learned that Ablong was <em>not</em> affiliated with Draken (August 3rd) and <em>after</em> the &quot;honey pot&quot; conversation, but seemingly <em>before</em> Oder had completely decided against using Ablong's services, as reflected in the deposition. It suggests a period of uncertainty where Oder was reevaluating Ablong's role.</p>
<p><strong>Docket 197-4:</strong></p>
<p>This exhibit sheds more light on the timeline of the events.</p>
<pre><code>EXHIBIT   5
From: J.D. Oder, II
Sent: Friday, August 18, 2017 9:35:19 PM
To: Randy Ablong
Subject: Re: draft

He has requested minor tweaks, I will do when I get back to my room.

Sent from my iPhone

On Aug , 2017, at 8:33 PM, Randy Ablong &lt;rablong@shift4.com&gt; wrote:

How is it looking?

Randy Ablong

Chief Security Officer| SHIFT4
M :702.498.8881
rablong@shift4.com I www.shift4.com

&gt; On Aug 18, 2017, at 5:05 PM, J.D. Oder, II &lt;oder@shift4.com&gt; wrote:
&gt;
&gt; Attached. Let me know if can help.
&gt;
&gt;&lt;image001.png&gt;
&gt;

</code></pre>
<p>This exchange confirms a point about the retainer check. The emails show an interaction showing the request for Ablong's feedback and adjustments. The emails are about having a third party provide &quot;minor tweaks.&quot; J.D. states he will &quot;do then when I get back to my room.&quot;</p>
<p><strong>Docket 199-1:</strong></p>
<p>This is a critical exhibit - a revised consulting agreement.</p>
<pre><code>Exhibit 1
August 18, 2017

Mr. Randy Ablong
[Redacted]
[Redacted]

Re: Consulting Agreement

Dear Randy:

Reference is made to that certain letter agreement between you and Shift4 Payments,
LLC (the &quot;Company&quot;) dated August 3, 2017 (the &quot;Original Agreement&quot;). This letter
agreement (this &quot;Agreement&quot;) amends and restates the Original Agreement in its entirety.

The parties agree as follows:

1. Scope of Engagement. You will serve as a consultant to the Company with
respect to general cyber security matters, including. without limitation, incident
response. data protection, security by design and vulnerability assessment.
(&quot;Services&quot;). You will not provide Services to or on behalf of any other person or entity engaged
in the same line of business as the Company, any of its parents, subsidiaries or
affiliates without the prior written consent of the Company, which consent may be
granted or withheld in the Company's sole discretion.

2. Term. The term of engagement under this Agreement (the =Term&quot;) will
commence on August 3, 2017 and will terminate on the earlier of (a) August 2,
2018 and ( b) the date on which the amount paid to. you under Section 3 below
equals $200,000 (the. &quot;Maximum Amount&quot;).

3. Compensation. The Company will pay you at the rate of $250/hour for the
Services you provide under this Agreement (&quot;Hourly
Rate&quot;); provided that you will,
in good faith, provide at a minimum such Services as shall be compensated, on
aggregate, on a monthly basis in an amount equal to no less than $1000, subject to
the Maximum Amount.

4. Payment. The Company will pay you on a monthly basis, in arrears, for
the Services, against invoices delivered by you to the Company, such invoices to be in form and
substance acceptable to the Company. Upon execution and delivery of this Agreement, the
Company will cause a check to be remitted to you in the amount of $25,000 (the &quot;Initial
Payment). The Initial Payment shall represent a prepayment against future invoices.

5. Confidentiality. You acknowledge and agree that, in the course of performing
the Services, you may have access to non-public and/or confidential information including,
without limitation, inventions, developments, know how, specifications, business plans,
financial data and customer data

</code></pre>
<p>This first page of the agreement gives a lot of information. The agreement is dated August 18, 2017, which places it in the critical timeframe <em>after</em> Oder learned Ablong wasn't with Draken and after the &quot;honey pot&quot; conversation.</p>
<ul>
<li><strong>Amended Agreement:</strong> This is an amendment and restatement of a prior agreement from August 3, 2017. This revision is significant.</li>
<li><strong>Reduced Scope:</strong> The scope is narrowed to &quot;general cyber security matters.&quot;</li>
<li><strong>Hourly Rate:</strong> Ablong is to be paid $250/hour.</li>
<li><strong>Maximum Amount:</strong> The total compensation is capped at $200,000.</li>
<li><strong>Initial Payment Reduced:</strong> Note the initial payment in this document is reduced. The original payment was a prepayment against future invoices.</li>
<li><strong>Minimum:</strong> Ablong will provide services as compensated monthly equal to no less than $1000.</li>
</ul>
<p><strong>Dkt. 199-2:</strong></p>
<p>This is a continuation of the previous exhibit (the consulting agreement).</p>
<pre><code>of the Company and its affiliates (collectively, &quot;Confidential
Information&quot;). You acknowledge and agree that all the Confidential Information is and
shall remain the sole property of the Company and its respective affiliates. You will keep all
Confidential Information confidential and will not, without the prior written consent of the
Company, disclose any of same to any third party, other than representatives of the
Company.

6. Ownership of Work Product. You agree that all the results and proceeds
of the Services, including without limitation all deliverables, materials, documents,
reports, data compilations, notes, designs, programs, creations, inventions, ideas,
improvements, discoveries, and other work product of any kind conceived, created,
developed, or reduced to practice. by you, either solely or jointly with others, in
connection with the Services (collectively, &quot;Work
Product&quot;) are and shall be the sole
property of the Company, free from any claim by you or on your behalf: The Company
shall have the sole and exclusive right to use, reproduce, distribute, display, perform,
modify, create derivatives from, and otherwise exploit the Work Product for any
purpose whatsoever, without any obligation to. you. The Work Product shall be deemed
&quot;works made for hire&quot; for the Company within the meaning of the Copyright Act of
1976, as amended, and the Company shall be the author thereof for all purposes. To
the extent, if any, that any of the Work Product does not qualify as a &quot;work made
for hire,&quot; you hereby irrevocably assign, transfer, and convey to the Company,
without further consideration, all right, title, and interest in. and to such Work Product,
including, without limitation, all copyrights, patent rights, trade secret rights, and
other proprietary rights therein. You agree to. execute and deliver any documents and
take any other actions reasonably requested by the Company to effect, perfect, or
evidence the foregoing assignment and transfer.

7. No Conflict. You represent and warrant that your performance of the
Services does not and will not conflict with any other agreement or obligation to
which you are a party or by which you are bound.

8. Expenses. The Company is responsible for any pre-approved out of pocket expenses.

9 Miscellaneous. This agreement shall be governed and construed with the laws of the
state of Nevada.

If the foregoing correctly sets forth the understanding between you and the
Company, please so indicate by signing and returning the enclosed copy of this
Agreement.
</code></pre>
<p>This second page of the consulting agreement contains critical clauses:</p>
<ul>
<li><strong>Confidentiality:</strong>  A strong confidentiality clause prevents Ablong from disclosing <em>any</em> information obtained during his work.</li>
<li><strong>Ownership of Work Product:</strong>  All work produced by Ablong belongs solely to Shift4. This is a standard clause in consulting agreements, but it's relevant given the nature of the alleged discussions (infiltration, etc.). Any information or methods Ablong might have used, even if related to his supposed &quot;tradecraft,&quot; would, under this agreement, be Shift4's property.</li>
<li><strong>No Conflict:</strong> Ablong represents that this consulting work doesn't conflict with any other agreements – a crucial point if he had ongoing obligations to any other entity (including, hypothetically, Mossad, although no mention is made here).</li>
<li><strong>Governing Law:</strong> Nevada law governs.</li>
</ul>
<p>The most crucial aspect of these consulting agreement exhibits is the date (August 18, 2017) and the fact that it's a <em>revision</em> of an earlier agreement. It shows Oder taking steps to control and limit Ablong's involvement and... (The response was truncated because it has reached the token limit. Try to increase the token limit if you need a longer response.)</p>

</article>




<nav class="exhibit-nav" data-pagefind-ignore><div class="nav-previous"><a href="/exhibit/draken-mosaad-2369/">
        <strong>‹ Previous Exhibit</strong>
        <span>2369: Search Term Draken Mosaad</span>
      </a></div>

  <div class="nav-next"><a href="/exhibit/draken-shift4payments-607/">
        <strong>Next Exhibit ›</strong>
        <span>607: Search Term DRAKEN_SHIFT4PAYMENTS_</span>
      </a></div>
</nav>
		</main>

		<footer>
			<p>
				Case materials presented for informational purposes.
			</p>
        <p>
    © 2025 Card Connect, LLC v. Shift4 Payments, LLC. All Rights Reserved.
  </p>
		</footer>
		<script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

 <script>
    window.addEventListener('DOMContentLoaded', (event) => {
    
    const closeSearch = () => {
        const wrapper = document.getElementById('search-wrapper');
        const input = document.querySelector('.pagefind-ui__search-input');

        if (input) {
            input.value = '';
            input.dispatchEvent(new Event('input', { bubbles: true }));
        }

        if (wrapper) {
            wrapper.classList.remove('search-active');
        }
        
        // **NEW**: Remove the class from the body to re-enable scrolling
        document.body.classList.remove('search-overlay-open');
    };

    new PagefindUI({
        element: "#search",
        showSubResults: true,
        processTerm: (term) => {
            const wrapper = document.getElementById('search-wrapper');
            if (wrapper) {
                if (term.length > 0) {
                    wrapper.classList.add('search-active');
                    // **NEW**: Add the class to the body to disable scrolling
                    document.body.classList.add('search-overlay-open');
                } else {
                    closeSearch();
                }
            }
            return term;
        }
    });

    const wrapper = document.getElementById('search-wrapper');
    const closeButton = document.getElementById('search-close-button');

    if (closeButton) {
        closeButton.addEventListener('click', closeSearch);
    }

    if (wrapper) {
        wrapper.addEventListener('click', (event) => {
            if (event.target === wrapper) {
                closeSearch();
            }
        });
    }

    document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && wrapper?.classList.contains('search-active')) {
            closeSearch();
        }
    });


        // Find the input field and the table body we want to filter
        const filterInput = document.getElementById('exhibit-filter');
        const tableBody = document.querySelector('.exhibit-table-body');
        
        // This is a safety check. If we are on a page without the filter, the script does nothing.
        if (filterInput && tableBody) {
          // Select all data rows (ignoring the 'no-results-row')
          const tableRows = tableBody.querySelectorAll('tr:not(.no-results-row)');
          const noResultsRow = tableBody.querySelector('.no-results-row');

          filterInput.addEventListener('input', (e) => {
            // Get the user's search term, and make it lowercase for case-insensitive matching
            const searchTerm = e.target.value.toLowerCase();
            let visibleRows = 0; // Keep track of matching rows

            // Loop through all the data rows in the table
            tableRows.forEach(row => {
              // Get the text content of the row, also lowercase
              const rowText = row.textContent.toLowerCase();

              // If the row's text includes the search term, show it. Otherwise, hide it.
              if (rowText.includes(searchTerm)) {
                row.style.display = ''; // Resets the style to the default (e.g., 'table-row')
                visibleRows++;
              } else {
                row.style.display = 'none';
              }
            });

            // NEW: Show or hide the "no results" message based on the count
            if (noResultsRow) {
              if (visibleRows === 0) {
                noResultsRow.style.display = 'table-row';
              } else {
                noResultsRow.style.display = 'none';
              }
            }
          });
        }

      const printButton = document.getElementById('print-exhibit-button');

      if (printButton) {
          printButton.addEventListener('click', () => {
              // This simple command opens the browser's print dialog
              window.print();
          });
      }

// --- 5. IN-PAGE SEARCH FUNCTIONALITY ---
const searchInput = document.getElementById('in-page-search-input');
const searchTarget = document.querySelector('.exhibit-content'); // We only search inside the article

// Only run this code if the search input and target exist on the page
if (searchInput && searchTarget) {
    const markInstance = new Mark(searchTarget);
    const prevButton = document.getElementById('in-page-search-prev');
    const nextButton = document.getElementById('in-page-search-next');
    const countEl = document.getElementById('in-page-search-count');
    
    let currentMatch = 0;
    let totalMatches = 0;

    const jumpTo = (index) => {
        const highlights = document.querySelectorAll('.in-page-highlight');
        if (highlights.length > 0) {
            // Remove 'current' class from the old match
            document.querySelector('.current-match')?.classList.remove('current-match');
            
            // Add 'current' class to the new match
            const currentEl = highlights[index];
            currentEl.classList.add('current-match');
            currentEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    };

    const performSearch = () => {
        const keyword = searchInput.value;
        currentMatch = 0;
        
        markInstance.unmark({
            done: () => {
                if (keyword.length > 2) { // Only search for terms longer than 2 characters
                    markInstance.mark(keyword, {
                        element: 'mark',
                        className: 'in-page-highlight',
                        done: (count) => {
                            totalMatches = count;
                            countEl.textContent = totalMatches > 0 ? `1 / ${totalMatches}` : '0 / 0';
                            prevButton.disabled = totalMatches <= 1;
                            nextButton.disabled = totalMatches <= 1;
                            if (totalMatches > 0) {
                                jumpTo(0);
                            }
                        }
                    });
                } else {
                    totalMatches = 0;
                    countEl.textContent = '0 / 0';
                    prevButton.disabled = true;
                    nextButton.disabled = true;
                }
            }
        });
    };

    searchInput.addEventListener('input', performSearch);
    
    nextButton.addEventListener('click', () => {
        if (totalMatches > 0) {
            currentMatch = (currentMatch + 1) % totalMatches;
            countEl.textContent = `${currentMatch + 1} / ${totalMatches}`;
            jumpTo(currentMatch);
        }
    });

    prevButton.addEventListener('click', () => {
        if (totalMatches > 0) {
            currentMatch = (currentMatch - 1 + totalMatches) % totalMatches;
            countEl.textContent = `${currentMatch + 1} / ${totalMatches}`;
            jumpTo(currentMatch);
        }
    });
}

    // --- REVIEWED CHECKBOX FUNCTIONALITY (WORKS ON ALL PAGES) ---

    const reviewedCheckboxes = document.querySelectorAll('.reviewed-checkbox');

    if (reviewedCheckboxes.length > 0) {
        
        // Use a global and unique site identifier for the storage key.
        // This is more robust than using a case number that might only exist on one page.
        // The Nunjucks filter `slugify` is safer than `slug`.
        const storageKey = 'reviewedExhibits_undefined';

        const getReviewedData = () => {
            const data = localStorage.getItem(storageKey);
            return data ? JSON.parse(data) : {};
        };

        const saveReviewedData = (data) => {
            localStorage.setItem(storageKey, JSON.stringify(data));
        };

        const reviewedData = getReviewedData();

        reviewedCheckboxes.forEach(checkbox => {
            const exhibitId = checkbox.dataset.exhibitId;

            // 1. SET INITIAL STATE: This works for the one checkbox on the exhibit page
            // or the 2000+ on the index page.
            if (reviewedData[exhibitId]) {
                checkbox.checked = true;
            }

            // 2. ADD EVENT LISTENER: This listener is added to every single
            // .reviewed-checkbox element found on the current page.
            checkbox.addEventListener('change', () => {
                const currentData = getReviewedData();
                
                if (checkbox.checked) {
                    currentData[exhibitId] = true;
                } else {
                    delete currentData[exhibitId];
                }

                saveReviewedData(currentData);
            });
        });
    }


    // --- 3. BACK TO TOP BUTTON FUNCTIONALITY ---
    // Find the button in the DOM
    const backToTopButton = document.getElementById('back-to-top');

    // Only set up the listener if the button was found
    if (backToTopButton) {
        // Listen for scroll events on the window
        window.addEventListener('scroll', () => {
            // If the user has scrolled more than 300px down...
            if (window.scrollY > 300) {
                // ...make the button visible.
                backToTopButton.style.display = 'block';
            } else {
                // ...otherwise, hide it.
                backToTopButton.style.display = 'none';
            }
        });
    }


      });
      
    </script>

<script>
window.addEventListener('DOMContentLoaded', (event) => {
    
    // This script contains ALL logic for the homepage (filtering, checkboxes, batch open)
    // and is designed to run safely without errors on other pages.

    const exhibitTableBody = document.querySelector('.exhibit-table-body');
    const storageKey = 'reviewedExhibits_undefined';

    // --- MAIN LOGIC FOR THE HOMEPAGE (WHERE THE TABLE EXISTS) ---
    if (exhibitTableBody) {
        
        // 1. GATHER ALL DOM ELEMENTS
        // ------------------------------------
        const textFilterInput = document.getElementById('exhibit-filter');
        const statusFilter = document.getElementById('status-filter');
        const openBtn = document.getElementById('open-unreviewed-btn');
        const exhibitDataElement = document.getElementById('exhibit-data');

        const allTableRows = exhibitTableBody.querySelectorAll('tr:not(.no-results-row)');
        const noResultsRow = exhibitTableBody.querySelector('.no-results-row');
        const reviewedCheckboxes = document.querySelectorAll('.reviewed-checkbox');

        // This is the full list of all exhibits from our hidden JSON data
        const allExhibits = JSON.parse(exhibitDataElement.textContent);
        const TABS_TO_OPEN = 30;
        
        // 2. DEFINE HELPER FUNCTIONS
        // ------------------------------------

        // Gets the reviewed data object from localStorage
        const getReviewedData = () => {
            const data = localStorage.getItem(storageKey);
            return data ? JSON.parse(data) : {};
        };
        
        // Saves the reviewed data object to localStorage
        const saveReviewedData = (data) => {
            localStorage.setItem(storageKey, JSON.stringify(data));
        };

        // This function updates the batch open button's text and state
        const updateOpenBatchButtonState = () => {
            const reviewedData = getReviewedData();
            const unreviewedExhibits = allExhibits.filter(
                exhibit => !reviewedData[exhibit.id]
            );
            const unreviewedCount = unreviewedExhibits.length;

            if (unreviewedCount === 0) {
                openBtn.textContent = 'All Exhibits Reviewed';
                openBtn.disabled = true;
            } else {
                const countToOpen = Math.min(unreviewedCount, TABS_TO_OPEN);
                openBtn.textContent = `Open ${countToOpen} Unreviewed`;
                openBtn.disabled = false;
            }
        };

        // The unified function to filter table rows based on text and status
        const filterTableRows = () => {
            const searchTerm = textFilterInput.value.toLowerCase();
            const statusValue = statusFilter.value;
            const reviewedData = getReviewedData();
            let visibleRows = 0;

            allTableRows.forEach(row => {
                const textMatch = row.textContent.toLowerCase().includes(searchTerm);
                const checkbox = row.querySelector('.reviewed-checkbox');
                const exhibitId = checkbox.dataset.exhibitId;
                const isReviewed = exhibitId && reviewedData[exhibitId];
                
                let statusMatch = false;
                if (statusValue === 'all') statusMatch = true;
                else if (statusValue === 'reviewed') statusMatch = isReviewed;
                else if (statusValue === 'unreviewed') statusMatch = !isReviewed;

                if (textMatch && statusMatch) {
                    row.style.display = '';
                    visibleRows++;
                } else {
                    row.style.display = 'none';
                }
            });
            noResultsRow.style.display = visibleRows === 0 ? 'table-row' : 'none';
        };

        // 3. SET UP EVENT LISTENERS & INITIAL STATE
        // ------------------------------------

        // Initialize checkboxes and add a SINGLE event listener for changes
        const reviewedDataOnLoad = getReviewedData();
        reviewedCheckboxes.forEach(checkbox => {
            const exhibitId = checkbox.dataset.exhibitId;
            if (reviewedDataOnLoad[exhibitId]) {
                checkbox.checked = true;
            }

            checkbox.addEventListener('change', () => {
                const currentData = getReviewedData();
                if (checkbox.checked) {
                    currentData[exhibitId] = true;
                } else {
                    delete currentData[exhibitId];
                }
                saveReviewedData(currentData);
                
                // When a checkbox changes, update EVERYTHING
                filterTableRows();
                updateOpenBatchButtonState();
            });
        });
        
        // Add event listeners for the filters
        textFilterInput.addEventListener('input', filterTableRows);
        statusFilter.addEventListener('change', filterTableRows);

        // Add the click event listener for the batch open button
        openBtn.addEventListener('click', () => {
            const reviewedData = getReviewedData();
            const unreviewedExhibits = allExhibits.filter(exhibit => !reviewedData[exhibit.id]);
            const countToOpen = Math.min(unreviewedExhibits.length, TABS_TO_OPEN);

            if (countToOpen === 0) return;

            const confirmed = confirm(`This will open ${countToOpen} unreviewed exhibits in new tabs.\n\nYour browser may ask for permission. Continue?`);
            if (confirmed) {
                unreviewedExhibits.slice(0, countToOpen).forEach(exhibit => {
                    window.open(exhibit.url, '_blank', 'noopener');
                });
            }
        });

        // 4. RUN INITIALIZATION FUNCTIONS ON PAGE LOAD
        // ------------------------------------
        filterTableRows();
        updateOpenBatchButtonState();
    }

    // --- LOGIC FOR INDIVIDUAL EXHIBIT PAGES ---
    // This logic runs independently from the homepage logic.
    const exhibitPageCheckbox = document.querySelector('.exhibit-meta .reviewed-checkbox');
    if (exhibitPageCheckbox) {
        const getReviewedData = () => JSON.parse(localStorage.getItem(storageKey) || '{}');
        const saveReviewedData = (data) => localStorage.setItem(storageKey, JSON.stringify(data));
        
        const exhibitId = exhibitPageCheckbox.dataset.exhibitId;
        const reviewedData = getReviewedData();

        if (reviewedData[exhibitId]) {
            exhibitPageCheckbox.checked = true;
        }

        exhibitPageCheckbox.addEventListener('change', () => {
            const currentData = getReviewedData();
            if (exhibitPageCheckbox.checked) {
                currentData[exhibitId] = true;
            } else {
                delete currentData[exhibitId];
            }
            saveReviewedData(currentData);
        });
    }

    // --- KEYBOARD SHORTCUTS & EFFICIENCY LOGIC (FOR EXHIBIT PAGES) ---
    // This entire block will only run if we're on a page with exhibit navigation.
    const exhibitNav = document.querySelector('.exhibit-nav');
    if (exhibitNav) {
        
        // --- 1. Define UI elements and helpers ---
        const checkbox = document.querySelector('.exhibit-meta .reviewed-checkbox');
        const nextLink = document.querySelector('.nav-next a');
        const prevLink = document.querySelector('.nav-previous a');
        const toastElement = document.getElementById('toast-notification');
        let toastTimeout;

        // Function to show a temporary message
        const showToast = (message) => {
            clearTimeout(toastTimeout);
            toastElement.textContent = message;
            toastElement.classList.add('show');
            toastTimeout = setTimeout(() => {
                toastElement.classList.remove('show');
            }, 2000); // Message disappears after 2 seconds
        };
        
        // --- 2. Add the master keyboard event listener ---
        window.addEventListener('keydown', (e) => {
            // IMPORTANT: Don't trigger shortcuts if the user is typing in an input field!
            if (['INPUT', 'TEXTAREA', 'SELECT'].includes(document.activeElement.tagName)) {
                return;
            }

            // --- 3. Handle the shortcuts ---

            // Shortcut: Toggle Reviewed Status (Shift + R)
            if (e.shiftKey && e.key.toLowerCase() === 'r') {
                e.preventDefault(); // Prevent typing 'R' if something else is focused
                if (!checkbox) return;
                
                // Toggle the checkbox's state
                checkbox.checked = !checkbox.checked;
                // Manually trigger the 'change' event to save the state to localStorage
                checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                
                showToast(checkbox.checked ? 'Marked as Reviewed' : 'Marked as Unreviewed');
            }

            // Shortcut: Mark as Reviewed AND go to Next (Shift + N)
            if (e.shiftKey && e.key.toLowerCase() === 'n') {
                e.preventDefault();
                if (!checkbox || !nextLink) return;

                // Only mark as reviewed, don't un-mark
                if (!checkbox.checked) {
                    checkbox.checked = true;
                    checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                }
                
                // Navigate to the next exhibit
                nextLink.click();
            }

            // Shortcut: Navigate to Previous Exhibit (Left Arrow)
            if (e.key === 'ArrowLeft') {
                e.preventDefault();
                if (prevLink) {
                    prevLink.click();
                }
            }
            
            // Shortcut: Navigate to Next Exhibit (Right Arrow)
            if (e.key === 'ArrowRight') {
                e.preventDefault();
                if (nextLink) {
                    nextLink.click();
                }
            }
        });
    }




});
</script>

    <a href="#" id="back-to-top" class="back-to-top" title="Back to top">↑</a>
    <div id="toast-notification" class="toast"></div>

	</body>
</html>