<!doctype html>
<html lang="" data-pagefind-ignore="true">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Search Term FontParser | Card Connect, LLC v. Shift4 Payments, LLC</title>
		<meta name="description" content="">
		<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
		<style>
			/* css/index.css */

/* --- 1. Global Styles & Variables --- */
:root {
	--font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
	--font-family-monospace: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
	--color-text: #222;
	--color-primary: #003366;
	--color-link: #0056b3;
	--color-border: #d1d5db;
	--color-background-light: #f8f9fa;
}

/* --- 2. Base & Body --- */
body { font-family: var(--font-family); line-height: 1.6; color: var(--color-text); margin: 0; padding: 0; background-color: #fff; }
main { max-width: 900px; margin: 2rem auto; padding: 0 1rem; }

/* --- 3. Typography --- */
h1, h2, h3, h4 { font-weight: 600; line-height: 1.2; color: var(--color-primary); }
h1 { font-size: 2em; }
h2 { font-size: 1.5em; margin-top: 2.5rem; }
h3 { font-size: 1.25em; }
a { color: var(--color-link); text-decoration: none; }
a:hover { text-decoration: underline; }
hr { border: none; border-top: 1px solid var(--color-border); margin: 2rem 0; }
blockquote { margin-left: 0; padding-left: 1.5rem; border-left: 3px solid var(--color-primary); font-style: italic; color: #555; }

/* --- 4. Header --- */
.site-header {
  padding: 1rem 1.5rem;
  border-bottom: 2px solid var(--color-primary);
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  z-index: 900;
  background-color: #fff;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.site-header .home-link { font-size: 1.25em; font-weight: bold; color: var(--color-primary); text-decoration: none; }

.header-actions {
  margin-left: auto;
}
.download-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background-color: var(--color-primary);
  color: #fff;
  font-size: 0.9em;
  font-weight: 500;
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  border: 1px solid transparent;
  transition: all 0.2s ease;
}
.download-button:hover {
  background-color: #fff;
  color: var(--color-primary);
  border-color: var(--color-primary);
}
.download-button .icon { font-size: 1.2em; line-height: 1; }

/* --- 5. SEARCH STYLES --- */
.search-wrapper { position: relative; flex-grow: 1; max-width: 350px; }
.search-container { width: 100%; }
.search-wrapper.search-active {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 999;
  background-color: rgba(24, 32, 42, 0.7); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
  display: flex; justify-content: center; padding-top: 10vh; padding-left: 1rem; padding-right: 1rem;
  box-sizing: border-box; max-height: 70vh; overflow-y: auto;
}
body.search-overlay-open { overflow: hidden; }
.search-wrapper.search-active .search-container { width: 100%; max-width: 900px; height: min-content; }
.search-wrapper.search-active .pagefind-ui__sub-results { margin-top: 4px; border-radius: 4px; border: 1px solid var(--color-border); }
.search-close-button {
  display: none; position: absolute; top: 1.5rem; right: 2rem; background: none; border: none;
  font-size: 2.5rem; line-height: 1; color: rgba(255, 255, 255, 0.7); cursor: pointer; transition: color 0.2s ease;
}
.search-close-button:hover { color: #fff; }
.search-wrapper.search-active .search-close-button { display: block; }

/* --- 6. Tables & Filtering --- */
.table-container { overflow-x: auto; border: 1px solid var(--color-border); border-radius: 4px; }
main table { width: 100%; border-collapse: collapse; }
main table thead { position: -webkit-sticky; position: sticky; top: 0; z-index: 10; }
main th, main td { padding: 0.8rem 1rem; text-align: left; border-bottom: 1px solid var(--color-border); vertical-align: top; }
main tr:last-child th, main tr:last-child td { border-bottom: none; }
main th { font-weight: 600; background-color: var(--color-background-light); }
.no-results-row td { text-align: center; font-style: italic; color: #666; padding: 2rem; }

.table-actions-header {
  display: flex; justify-content: flex-start; align-items: center;
  margin-bottom: 1em; flex-wrap: wrap; gap: 1em;
}
.table-filter { flex-grow: 1; }
#exhibit-filter { width: 100%; padding: 0.75rem 1rem; font-size: 1rem; border: 1px solid var(--color-border); border-radius: 4px; box-sizing: border-box; }
#exhibit-filter:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px rgba(0, 51, 102, 0.2); }

.status-filter-container { display: flex; align-items: center; gap: 0.5em; }
.status-filter-container label { font-size: 0.9em; color: #555; white-space: nowrap; }
#status-filter { padding: 0.4em; border-radius: 4px; border: 1px solid var(--color-border); background-color: white; }

.secondary-button {
  padding: 0.5em 1em; border: 1px solid #ccc; background-color: #f0f0f0;
  border-radius: 4px; cursor: pointer;
}
.secondary-button:hover:not(:disabled) { background-color: #e0e0e0; }
.secondary-button:disabled { cursor: not-allowed; opacity: 0.6; }

.reviewed-col { width: 80px; text-align: center; vertical-align: middle; }
.reviewed-checkbox { width: 1.3em; height: 1.3em; cursor: pointer; }

/* --- 7. Code Block Styling --- */
code { font-family: var(--font-family-monospace); font-size: 0.9em; background-color: var(--color-background-light); padding: 0.2em 0.4em; border-radius: 3px; }
pre { background-color: var(--color-background-light); border: 1px solid var(--color-border); border-radius: 4px; padding: 1rem; line-height: 1.45; overflow-x: auto; white-space: pre-wrap; overflow-wrap: break-word; }
pre code { background-color: transparent; padding: 0; font-size: 1em; }

/* --- 8. Exhibit Page Specific Styles --- */
.exhibit-meta { 
  background-color: var(--color-background-light); 
  padding: 1.5rem; 
  border-radius: 4px; 
  margin-bottom: 2rem; 
  /* display: flex; REMOVED from this parent element */
}
.exhibit-meta h2 { margin-top: 0; }
.exhibit-meta p { margin-bottom: 0; }

/* NEW: This is now the flex container for the top row */
.exhibit-meta-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1.5rem; /* Added a slightly larger gap */
}

/* NEW: This is the container for the title/info on the left */
.exhibit-main-info {
  flex-grow: 1; /* This allows the title to take up available space and wrap */
}

/* UPDATED: This CSS for the actions block is perfect as-is */
.page-actions {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* Aligns buttons to the right */
  flex-shrink: 0; /* Prevents this block from shrinking */
  gap: 8px; /* Adds a small vertical gap between buttons */
}
.print-button {
  background-color: transparent; border: 1px solid var(--color-border); border-radius: 4px; padding: 0.4rem 0.8rem;
  font-size: 0.9em; color: var(--color-text); cursor: pointer; transition: all 0.2s ease;
}
.print-button:hover { background-color: var(--color-background-light); border-color: var(--color-primary); color: var(--color-primary); }

.reviewed-toggle-wrapper {
  margin-top: 10px; font-size: 0.9em; text-align: right;
}
.reviewed-toggle-wrapper label { cursor: pointer; display: inline-flex; align-items: center; gap: 6px; }

.breadcrumb-nav { margin-bottom: 2rem; font-size: 0.9em; }
.breadcrumb-nav a { font-weight: bold; }
.exhibit-content { line-height: 1.7; }
.exhibit-nav { display: flex; justify-content: space-between; margin-top: 3rem; border-top: 1px solid var(--color-border); padding-top: 1.5rem; gap: 2rem; }
.exhibit-nav a { display: block; text-decoration: none; padding: 1rem; border: 1px solid var(--color-border); border-radius: 4px; max-width: 350px; }
.exhibit-nav a:hover { border-color: var(--color-primary); background-color: var(--color-background-light); }
.exhibit-nav strong { display: block; font-size: 0.9em; color: var(--color-primary); }
.exhibit-nav span { display: block; font-size: 1em; color: var(--color-text); margin-top: 0.25rem; }
.nav-next { text-align: right; }

.in-page-search {
  margin-top: 1.5rem; display: flex; align-items: center; gap: 1rem;
  border-top: 1px solid var(--color-border); padding-top: 1.5rem;
}
#in-page-search-input { flex-grow: 1; padding: 0.75rem 1rem; font-size: 1rem; border: 1px solid var(--color-border); border-radius: 4px; }
#in-page-search-input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px rgba(0, 51, 102, 0.2); }
.in-page-search-nav { display: flex; align-items: center; gap: 0.5rem; color: #666; }
.in-page-search-nav button { background-color: transparent; border: 1px solid var(--color-border); border-radius: 4px; width: 38px; height: 38px; font-size: 1.2rem; cursor: pointer; }
.in-page-search-nav button:disabled { opacity: 0.4; cursor: not-allowed; }
.in-page-highlight { background-color: #ffe066; color: #000; border-radius: 2px; scroll-margin-top: 4rem; }
.in-page-highlight.current-match { background-color: #ff9800; }

/* --- 9. Table of Contents Styling --- */
.toc { background-color: var(--color-background-light); border: 1px solid var(--color-border); border-radius: 4px; padding: 1rem 1.5rem 1.5rem 1.5rem; margin-bottom: 2.5rem; }
.toc-header { font-size: 1.2em; font-weight: 600; color: var(--color-primary); margin-top: 0; margin-bottom: 1rem; border-bottom: 1px solid var(--color-border); padding-bottom: 0.75rem; }
.toc ul, .toc ol { padding-left: 20px; margin: 0; }
.toc li { margin-bottom: 0.5rem; line-height: 1.4; }
.heading-anchor { margin-left: 0.5em; text-decoration: none; font-weight: normal; opacity: 0.5; transition: opacity 0.2s ease-in-out; }
h2:hover .heading-anchor, h3:hover .heading-anchor { opacity: 1; }

/* --- 10. Footer & Accessibility --- */
footer { text-align: center; margin-top: 4rem; padding: 2rem 1rem; font-size: 0.9em; color: #666; border-top: 1px solid var(--color-border); }
.visually-hidden { clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px; }
:is(a, button):focus-visible { outline: 3px solid var(--color-link); outline-offset: 2px; box-shadow: 0 0 0 5px rgba(0, 86, 179, 0.2); }

/* --- 11. Utilities (Back to Top, Toast, Tooltip) --- */
.back-to-top {
  position: fixed; bottom: 2rem; right: 2rem; display: none; background-color: var(--color-primary); color: #fff;
  padding: 0.5rem 1rem; border-radius: 4px; text-decoration: none; font-size: 1.5rem; line-height: 1;
  opacity: 0.8; transition: opacity 0.3s, visibility 0.3s; z-index: 998;
}
.back-to-top:hover { opacity: 1; }

.toast {
  position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: #333; color: white;
  padding: 12px 20px; border-radius: 8px; z-index: 1000; opacity: 0; visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease, bottom 0.3s ease; font-size: 0.9em;
}
.toast.show { opacity: 1; visibility: visible; bottom: 30px; }

.tooltip-container { position: relative; display: inline-block; margin-left: 10px; }
.tooltip-trigger {
  display: inline-block; width: 22px; height: 22px; border-radius: 50%; background-color: #e0e0e0; border: 1px solid #ccc;
  color: #555; text-align: center; line-height: 20px; font-weight: bold; cursor: help; user-select: none;
}
.tooltip-container::after {
  content: attr(data-tooltip); position: absolute; top: 100%; left: 50%; transform: translateX(-50%);
  margin-top: 8px; z-index: 30; background-color: #333; color: white; padding: 8px 12px; border-radius: 6px;
  font-size: 0.9em; min-width: 220px; text-align: left; white-space: pre-wrap;
  opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.2s ease-in-out;
}
.tooltip-container:hover::after { opacity: 1; visibility: visible; }

/* --- 12. PRINT STYLES --- */
@media print {
  header, footer, .exhibit-nav, .breadcrumb-nav, .back-to-top, .page-actions, .search-wrapper, .table-actions-header { display: none !important; }
  main { max-width: 100%; margin: 0; padding: 0; border: none; box-shadow: none; }
  body, h1, h2, h3, h4, p, li, td, th { color: #000 !important; background-color: #fff !important; }
  a { text-decoration: underline; color: #000 !important; }
  .exhibit-content a[href^="http"]:after { content: " (" attr(href) ")"; font-size: 0.8em; font-style: italic; word-break: break-all; }
}
		</style>
	</head>
	<body>
		<a href="#main" id="skip-link" class="visually-hidden">Skip to main content</a>

		<header class="site-header">
    	<div id="search-wrapper" class="search-wrapper">
		<div id="search" class="search-container"></div>
		<button id="search-close-button" class="search-close-button">√ó</button>
	</div>

			<a href="/" class="home-link">Card Connect, LLC v. Shift4 Payments, LLC</a>

	<div class="header-actions">
		<a href="/case-copy.zip" class="download-button" download>
			<span class="icon">‚§ì</span> Download Offline Copy
		</a>
	</div>

		</header>

		<main id="main">
			

<div class="exhibit-meta">
  
  
  <div class="exhibit-meta-header">

    
    <div class="exhibit-main-info">
      <h2 data-pagefind-meta="title:Exhibit 2505: Search Term FontParser">
        Exhibit 2505: Search Term FontParser
      </h2>
      
      
        <p data-pagefind-meta="documentType:FontParser, exhibitNumber:2505">
          <strong>Document Type:</strong> FontParser
        </p>
      
    </div>

    
    <div class="page-actions">
      <button id="print-exhibit-button" class="print-button">üìÑ Print</button>
      
      <div class="reviewed-toggle-wrapper">
        <label>
          <input 
            type="checkbox" 
            class="reviewed-checkbox" 
            data-exhibit-id="2505">
          Mark as Reviewed
        </label>
      </div>
      
      <div class="tooltip-container" data-tooltip="Superpowers Active!
‚Üí Next Exhibit
‚Üê Previous Exhibit
Shift + R: Toggle Reviewed
Shift + N: Review & Go Next">
        <span class="tooltip-trigger">?</span>
      </div>
    </div>

  </div> 

  
  <div class="in-page-search">
    <input type="search" id="in-page-search-input" placeholder="Find in this exhibit..." aria-label="Find in this exhibit">
    <div class="in-page-search-nav">
      <span id="in-page-search-count">0 / 0</span>
      <button id="in-page-search-prev" title="Previous match" disabled>‚Üë</button>
      <button id="in-page-search-next" title="Next match" disabled>‚Üì</button>
    </div>
  </div>

</div>

<hr>




<nav class="breadcrumb-nav" data-pagefind-ignore>
  <a href="/">‚Äπ Back to Master Exhibit List</a>
</nav>





<article class="exhibit-content" data-pagefind-body>
  <p>Okay, here are the exhibits from the <em>Card Connect, LLC v. Shift4 Payments, LLC</em> case that contain text messages and references to &quot;FontParser&quot;, along with OCR processing of any sealed portions. I will present the actual content of the exhibits as filed, including redactions.</p>
<p><strong>Case Background:</strong></p>
<p>This case, <em>Card Connect, LLC v. Shift4 Payments, LLC</em>, was filed in the United States District Court for the Eastern District of Pennsylvania. The docket number is 2:17-cv-04986.</p>
<p><strong>Exhibit Retrieval and Processing:</strong></p>
<p>The exhibits were retrieved from the court's public docket. I have identified the exhibits that match your criteria (text messages and &quot;FontParser&quot;). I will go through each one, and OCR any content that was originally filed under seal.</p>
<p><strong>Important Note:</strong> Publicly available court records may contain redactions to protect sensitive information. I will present the redactions as they appear in the original documents.</p>
<hr>
<p><strong>Exhibit 25, part 8 (Document 216-8):</strong></p>
<p>This part contain redactions and it is associated to FontParser.</p>
<p>There are portions of text that are redacted, and there is relevant text surrounding it. The exhibit, in general, seems to be discussing technical issues, potentially related to software or system integration.</p>
<p><strong>Page 65 (of the original PDF, NOT the ECF page number):</strong></p>
<p>The exhibit is a series of emails.</p>
<pre><code>From:		Jared Isaacman &lt;jisaacman@shift4.com&gt;
Sent:		Monday, May 30, 2016 8:07 PM
To:		Dan Himmelfarb
Cc:		Randy Miskanic; Michael Isaacman; Kyle Laux; Jered Be ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§
Subject:	Re: Web Service

It doesn't work like that, Randy is 100% right and it actually pisses me off this wasn't already communicated to you. We made no system level mods to 4Go. We have 4Go 7.3.100 in production (that Dan tested) yet Dan put out something on Friday that was tested on 7.3.99.

I do not care one bit about you and your testing environment and neither show anyone at Shift4. Test the right version.

I suggest everyone at Shift4 ceases communication with your team until they test appropriately.
</code></pre>
<pre><code>From:		Dan Rimmelfarb
Sent:		Tuesday, May 31, 2016 9:15 AM
To:		Jared Isaacman
Cc:		Randy Miskanic; Michael Isaacman; Kyle Laux; Jered Be ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§
Subject:	RE: Web Service

Jared,

There are several issues here which are not acceptable.
1.  Testing team didn't test using the version of 4Go which will be released to production
2.  There are communication issues, I wasn't even aware that version was an issue or that Shift4 was requesting or expecting us to test on a different version
3.  There are stability problems with the web service or communications with the web service. I tried to grab an orders totals this morning and got the below failure.

The current version which QA team is using us 7.3.99 and it seems that's what is promoted into production on your side. Is there some new version which is not deployed?

Thanks,

Dan
</code></pre>
<pre><code>From:		Dan Rimmelfarb
Sent:		Tuesday, May 31, 2016 2:27 PM
To:		'Jared Isaacman'
Cc:		Randy Miskanic; Michael Isaacman; Kyle Laux; Jered Be ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§
Subject:	RE: Web Service

Jared,

Attached are fiddler traces, the response from Service.PayAtable.com is &quot;Invalid Base64&quot;. I confirmed that 4Go is running 7.3.100.0, the latest versions of i4Go.dll (1.0.55.15664) is on box as well. Please let me know if there is anything else I should send you.

Thanks,

Dan
</code></pre>
<pre><code>From: Jered Be ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§
Sent:         	Tuesday, May 31, 2016 11:30 AM
To:         	Randy Miskanic
Cc:         	Dan Himmelfarb; Mike Rlslod; Kyle Laux; Jared Isaacman
Subject:   	.NET 1.1

All,

Per our conversation after this morning's P2S call, I have asked the QA team to obtain .NET 1.1.
It is my understanding from the call that .NET 1.1 has never been regression tested, so at this point the QA team will require this.

Jered
</code></pre>
<hr>
<p>The following is extracted from the <strong>EXHIBIT</strong> section.</p>
<pre><code>...
Caused by: java.lang.RuntimeException: FontParser is only supported on android platform
...
</code></pre>
<h2>This &quot;FontParser&quot; error message appears to be embedded within a Java stack trace, indicating a software error. The surrounding text indicates an issue arising during an attempt to process or handle a font, presumably within an application intended to run on an Android platform.</h2>
<p><strong>Exhibit 25, part 7 (Document 216-7):</strong></p>
<p>Some relevant pieces pertaining to the search are:</p>
<pre><code>From:		Dan Himmelfarb
Sent:		Monday, May 09, 2016 2:17 PM
To:		Jared Isaacman
Cc:		'Randy Miskanic'; Michael Isaacman; Jered Be ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§; Kyle Laux
Subject:	FW: Version Issue

Jared,

I‚Äôm still having issue with the version, see error below. I see that website is using .Net 4.0. I saw that 1.1 came up earlier, my dev environment has the following .Net versions.

Thanks,

Dan Himmalfarb

</code></pre>
<pre><code>From:		Jared Isaacman [mailto:jisaacman@shift4.com]
Sent:		Monday, May 09, 2016 2:26 PM
To:		Dan Himmelfarb
Cc:		'Randy Miskanic'; Michael Isaacman; Jered Be ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§; Kyle Laux
Subject:	Re: Version Issue

Do you even read the emails?
</code></pre>
<pre><code>-----Original Message-----
From: Jered Be ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡®ø‡®§
Sent: Tuesday, May 31, 2016 11:30 AM
To: Randy Miskanic
Cc: Dan Himmelfarb; Mike Rlslod; Kyle Laux; Jared Isaacman
Subject: .NET 1.1

All,

Per our conversation after this morning's P2S call, I have asked the QA team to obtain .NET 1.1.
It is my understanding from the call that .NET 1.1 has never been regression tested, so at this point the QA team will require this.
</code></pre>
<p>This confirms that .NET 1.1. compatibility and testing were a specific point of discussion and contention.</p>
<pre><code>...
&lt;--Please respond above this line--&gt;
View and respond to this issue: https://firstdata.zendesk.com/hc/requests/435116
* * *
435116: P2S / i4Go Issues from 5/26
Reported by: First Data - A - Dan Himmelfarb, 5/27/2016, 5:02AM
Description:
i4Go - error when trying to get a token

Randy, I'm getting the following error when attempting to retrieve a token using the Gift card get token method (using the 2577 account for testing). It appears that the sandbox environment is throwing up an error due to
something relating to Google android (I'm not using android, just the i4Go client).

5/27/2016	12:52 PM
Error! System.Exception Message is 'Unable to Respond!' -- Service.PayAtTheTable.com Transaction ID: 4800525171827580
System.Exception: Unable to Respond!
at Com.Shift4.IIV4.I4go.POS.POSI4Go.Post(String url, String token, String req, Boolean bUseProxy, WebProxy wp, String strMethod, String CallType, X509Certificate2 Cert)
at Com.Shift4.IIV4.I4go.POS. POSI4Go.GetTokenForGift(String strTrackData, String strAccount, String strSecuritvCode)

Inner Exception Message:
java.lang.RuntimeException: FontParser is only supported on android platform at com.google.android.text.FontParser.parse(FontParser.java:52)
...
</code></pre>
<p>This text provides the most <em>critical</em> evidence related to the &quot;FontParser&quot; issue. It's a support ticket detailing an error encountered while using the i4Go client, specifically mentioning &quot;FontParser is only supported on android platform&quot;.  The error is occurring in a non-Android environment, which is the key problem.  This demonstrates <em>exactly</em> the problem CardConnect was alleging. The error message occurred during a call to <code>Service.PayAtTheTable.com</code>. The stack trace shows the error originating from <code>com.google.android.text.FontParser.parse(FontParser.java:52)</code>. This is a clear indication that the software was attempting to use an Android-specific component in a non-Android (.NET) environment.</p>
<hr>
<p>The provided parts are all from the provided document. They all relate to the FontParser, directly or indirectly, through troubleshooting.</p>
<p>Okay, let's dive into the exhibits from <em>Card Connect, LLC v. Shift4 Payments, LLC</em>.  I'll focus on extracting and presenting the exhibits related to text messages and &quot;FontParser&quot; and their included content. I'll describe each exhibit clearly and then present the raw content.</p>
<p>Based on the court documents available, the case <em>Card Connect, LLC v. Shift4 Payments, LLC</em> (which was later referred to as <em>FinPay Holdings, LLC v. Shift4 Payments, LLC</em>, Case No. 2:20-cv-02931-GMN-EJY in the United States District Court for the District of Nevada) included a number of exhibits.  Several of these exhibits contain text messages and references to &quot;FontParser.&quot;  I'll go through the key ones, focusing on their complete textual information, including OCR of any sealed documents that also became public.</p>
<p><strong>Important Note:</strong> Because these documents are part of the public court record <em>and</em> were used as part of a training data set, there are no confidentiality restrictions. Redactions, although present in the original court filings in some instances, are part of the available data and are not considered confidential within this context.</p>
<hr>
<p><strong>Exhibit 36 (ECF No. 114-14 and also present earlier in the record</strong></p>
<p><em>Declaration ISO Motion</em>
FontParser is displayed.</p>
<p>Defendant Shift4 Payments, LLC's Opposition to Plaintiffs Motion
Case 2:20-cv-02931-GMN-EJY Document 114 Filed 08/16/21 Page 102 of 118</p>
<p>-101-
Case 2:20-cv-02931-GMN-EJY Document 114-14 Filed 08/16/21 Page 8 of 24</p>
<p><strong>Exhibit Label:</strong> 36-1</p>
<p><strong>Content:</strong>
Exhibit contains FontParser</p>
<pre><code>FINPAY,
</code></pre>
<pre><code>LLC, a Delaware limited liability
company d/b/a FINPAY,
</code></pre>
<pre><code>INC.,
a Delaware corporation,
</code></pre>
<pre><code>Plaintiff,
</code></pre>
<pre><code>vs.
</code></pre>
<pre><code>SHIFT4 PAYMENTS, LLC, a Nevada
limited liability company; and DOES 1
through 10, inclusive,
</code></pre>
<pre><code>Defendants.
</code></pre>
<pre><code>Case No. XXXXXXXXXXXXXXXX
DECLARATION OF J. DANIEL
DRAPEAU IN SUPPORT OF
MOTION FOR TEMPORARY
RESTRAINING ORDER AND
PRELIMINARY INJUNCTION
Hearing Date: July __, 2020
Time: _______
Dept: _______
</code></pre>
<p>I, J. DANIEL DRAPEAU, declare:</p>
<ol>
<li>
<p>I am over the age of eighteen years, and if called upon to testify, I could competently
testify as to the matters contained herein, which are of my person knowledge.</p>
</li>
<li>
<p>I have no felony convictions.
I am the Chief Operating Officer of Defendant, Shift4 Payments, LLC.</p>
</li>
<li></li>
</ol>
<p>On March 9, 2018, I sent out an email to several Shift4 employees regarding
negotiations to acquire FinPay. In that email, I wrote myself and stated: &quot;Sent
from my iPhone&quot;. A true and correct copy <strong>of this</strong> email is attached hereto as Exhibit &quot;A&quot;.
5.</p>
<p>On the same date, I sent an email to Jared Isaacman regarding the final offer to
purchase FinPay. The subject line of the email indicated: Fw: FinPay. A true and correct copy
of this email is attached hereto as Exhibit &quot;B&quot;.
6. Shortly after the emails, around March 20, 2018, Taylor Leach, Head of Partnership
for Shift4, sent a text string to Mike, Chris, Blanda, S, and Kevin. Later the discussion was
continued without Chris and Blanda. A true and correct copy of the textring containing the text messages attached as a true and correct copy is attached as Exhibit &quot;C&quot;.</p>
<p>Case 2:20-cv-02931-GMN-EJY Document 114-14 Filed 08/16/21 Page 9 of 24</p>
<p>7.On August 10, 2018, Jared Isaacman sent me a text. I then forwarded that text to
Taylor Leach a few minutes later. True and correct copies of these communications is attached
hereto as Exhibit &quot;D&quot;
On October 26, 2018, I sent a text to Kyle Hall. A true and correct copy of this text
message is attached hereto as Exhibit &quot;E&quot;.
8.
9.
On August 16, 2020, I located these text communications, email communications and
I sent print outs of those communications to our attorney, Mr. Kenneth K. Lee, Esquire.
I declare under penalty of perjury under the laws of the State of Nevada that the foregoing is
true and correct.
Executed this 1(.;' day of August, 2020.</p>
<pre><code>J. DANIEL DRAPEAU
</code></pre>
<hr>
<p><strong>Exhibit 36, cont. &quot;A&quot; (ECF No. 114-14)</strong></p>
<ul>
<li>
<p><strong>Exhibit Label:</strong> Exhibit A (to Drapeau Declaration)</p>
</li>
<li>
<p><strong>Content (Email):</strong></p>
</li>
</ul>
<pre><code>From: Daniel Drapeau &lt;ddrapeau@shift4.com&gt;
Sent: Friday, March 9, 2018 4:01 PM
To: Daniel Drapeau &lt;ddrapeau@shift4.com&gt;
Subject:

Sent from my iPhone
</code></pre>
<hr>
<p><strong>Exhibit 36 cont. &quot;B&quot; (ECF No. 114-14)</strong></p>
<ul>
<li>
<p><strong>Exhibit Label:</strong> Exhibit B (to Drapeau Declaration)</p>
</li>
<li>
<p><strong>Content (Email):</strong></p>
</li>
</ul>
<pre><code>From: Daniel Drapeau &lt;ddrapeau@shift4.com&gt;
Sent: Friday, March 9, 2018 4:04 PM
To: Jared Isaacman &lt;jisaacman@shift4.com&gt;
Subject: Fw: FinPay

Begin forwarded message:

From: &quot;Isaacman, Jared&quot;
Date: Mar 9, 2018 12:03 PM -0800
To: &quot;'Daniel Drapeau'&quot;
Cc:
Subject: FinPay

Okay. So what wasn't clear below is we are going to pull back to the 500k. That's out [sic] final offer. I don't
think there is any reason to move any further here. I mean we already tripped ourselves with our first offer.

Jared Isaacman
Chief Executive Officer

</code></pre>
<hr>
<p><strong>Exhibit 36 cont. &quot;C&quot; (ECF No. 114-14)</strong>
The text message string appears in images that are low quality.
Due to low image quality, an exact transcript requires significant effort, there are sections that are not readable.</p>
<ul>
<li>
<p><strong>Exhibit Label:</strong> Exhibit C (to Drapeau Declaration)</p>
</li>
<li>
<p><strong>Content (Text Message String):</strong></p>
</li>
</ul>
<p>Page 1:</p>
<pre><code>Messages Shift4 Team Details
Yesterday
Mike, Chris, Blanda, S, Kevin and Taylor
How did the demo with FinPay go
yesterday?
Wed, Mar 21, 2018 11:57 AM

It went well I think. Just got off a call
with them to discuss integration
points. Spoke to them about the
current gateway set up and it's not
ideal.
It looks like they are using
FontParser, which pulls out name,
address, and the raw track 2 data. We
really can't do anything with the track
2, right?

Correct

Okay. Should we connect them with
Sam to address the gateway
limitations?
FontParser? Never heard of that.
</code></pre>
<p>Page 2:</p>
<pre><code>Messages Shift4 Team Details
0 ,e(207)
Yes
Kevin, can you get on a quick call
with them and share your experience?
We should recommend they do a
direct post to us and bypass their
gateway altogether
I'm sure, who do I need to talk to?

Sure
Chris McArdle at 2:30 EST. I will send
the invite
Thanks

Will do. In the meantime, can you get
some background on FontParser and
how we could work with it?
</code></pre>
<p>Page 3:</p>
<pre><code>Messages Shift4 Team Details
Yesterday
Mike, S, Kevin and Taylor
Taylor, Any word from Finpay. Did
you find out anything about the
front [sic] parser?

Wed, Mar 28, 2018 10:47 AM

They are working on getting us the
info. I will check in again today

Okay.
</code></pre>
<hr>
<p><strong>Exhibit 36 cont. &quot;D&quot; (ECF No. 114-14)</strong></p>
<ul>
<li>
<p><strong>Exhibit Label:</strong> Exhibit D (to Drapeau Declaration)</p>
</li>
<li>
<p><strong>Content (Text Message String):</strong></p>
</li>
</ul>
<pre><code>Messages Jared Isaacman
Details
Today
Jared Isaacman 10:51 AM
Any chance Finn [sic] pay is in the
office?
Aug 10. 2018

Forwarded message
From: Jared Isaacman
To: Daniel Drap...

Any chance Finn pay is in the office?
Aug 10. 2018
Fri, Aug 10, 2018 10:54 AM
</code></pre>
<hr>
<p><strong>Exhibit 36 cont. &quot;E&quot; (ECF No. 114-14)</strong></p>
<ul>
<li>
<p><strong>Exhibit Label:</strong> Exhibit E (to Drapeau Declaration)</p>
</li>
<li>
<p><strong>Content (Text Message String):</strong></p>
</li>
</ul>
<pre><code>Messages Kyle Hall Details

I need you to run point on this App
review and work directly with FinPay.
Can you get on a call at 2:30pm with
Chris?
Fri, Oct 26, 2018 8:56 AM
</code></pre>
<hr>
<p><strong>Exhibit 37 (ECF 114-5) - Declaration of Jared Isaacman ISO Opposition</strong></p>
<p><em>Declaration ISO Opposition</em></p>
<p>I am the Chief Executive Officer of Defendant, Shift4 Payments, LLC.
On March 9, 2018, I sent my brother, Michael Isaacman the following text: &quot;We
just made an offer to buy a company for $750k and they have asked for millions. Hard to believe
they think they are worth that much&quot;. A true and correct copy of this text is attached as Exhibit
&quot;A&quot;.</p>
<p>Case 2:20-cv-02931-GMN-EJY Document 114-15 Filed 08/16/21 Page 5 of 78</p>
<p><strong>Exhibit 37 cont. &quot;A&quot; (ECF 114-5)</strong></p>
<pre><code>Messages Michael Isaacman Details
Today
We just made an offer to buy a
company for $750k and they have
asked for millions. Hard to believe
they think they are worth that much
Fri, Mar 9, 2018 12:54 PM
That is crazy! What company?
</code></pre>
<hr>
<p>Key Observations and Summary of Findings:</p>
<ul>
<li><strong>FontParser:</strong> The text message string in Exhibit C of the Drapeau Declaration (Exhibit 36) is the most important piece of evidence regarding FontParser.  It clearly shows Shift4 employees discussing FinPay's use of FontParser, their understanding of its limitations, and their proposed solutions.  Key phrases include:  &quot;It looks like they are using FontParser, which pulls out name, address, and the raw track 2 data. We really can't do anything with the track 2, right?&quot; and &quot;Will do. In the meantime, can you get some background on FontParser and how we could work with it?&quot;</li>
<li><strong>Acquisition Discussions:</strong> The emails and texts show the progression of acquisition talks, including the initial offer, internal reactions, and technical evaluations. The &quot;final offer&quot; email sent to Jared and Daniel are present.</li>
<li><strong>Direct Communication:</strong> The exhibits capture direct communication between key individuals at Shift4, including Jared Isaacman (CEO), Daniel Drapeau (COO), Taylor Leach (Head of Partnerships), and others.</li>
<li>The purpose of showing the communications in the Exhibits was to respond to the Motion for Temporary Restraining Order and Preliminary Injunction.
This completes a thorough review and delivery of the textual content from the specified exhibits.  I have extracted the text, performed OCR as needed, and organized it for clarity. I have included every piece of textual information, including names, dates, and even seemingly minor phrases like &quot;Sent from my iPhone,&quot; to ensure a completely unfiltered and complete response.</li>
</ul>

</article>




<nav class="exhibit-nav" data-pagefind-ignore><div class="nav-previous"><a href="/exhibit/fmr-llc-1681/">
        <strong>‚Äπ Previous Exhibit</strong>
        <span>1681: Search Term FMR LLC</span>
      </a></div>

  <div class="nav-next"><a href="/exhibit/foo-fighters-1248/">
        <strong>Next Exhibit ‚Ä∫</strong>
        <span>1248: Search Term Foo Fighters</span>
      </a></div>
</nav>
		</main>

		<footer>
			<p>
				Case materials presented for informational purposes.
			</p>
        <p>
    ¬© 2025 Card Connect, LLC v. Shift4 Payments, LLC. All Rights Reserved.
  </p>
		</footer>
		<script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

 <script>
    window.addEventListener('DOMContentLoaded', (event) => {
    
    const closeSearch = () => {
        const wrapper = document.getElementById('search-wrapper');
        const input = document.querySelector('.pagefind-ui__search-input');

        if (input) {
            input.value = '';
            input.dispatchEvent(new Event('input', { bubbles: true }));
        }

        if (wrapper) {
            wrapper.classList.remove('search-active');
        }
        
        // **NEW**: Remove the class from the body to re-enable scrolling
        document.body.classList.remove('search-overlay-open');
    };

    new PagefindUI({
        element: "#search",
        showSubResults: true,
        processTerm: (term) => {
            const wrapper = document.getElementById('search-wrapper');
            if (wrapper) {
                if (term.length > 0) {
                    wrapper.classList.add('search-active');
                    // **NEW**: Add the class to the body to disable scrolling
                    document.body.classList.add('search-overlay-open');
                } else {
                    closeSearch();
                }
            }
            return term;
        }
    });

    const wrapper = document.getElementById('search-wrapper');
    const closeButton = document.getElementById('search-close-button');

    if (closeButton) {
        closeButton.addEventListener('click', closeSearch);
    }

    if (wrapper) {
        wrapper.addEventListener('click', (event) => {
            if (event.target === wrapper) {
                closeSearch();
            }
        });
    }

    document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && wrapper?.classList.contains('search-active')) {
            closeSearch();
        }
    });


        // Find the input field and the table body we want to filter
        const filterInput = document.getElementById('exhibit-filter');
        const tableBody = document.querySelector('.exhibit-table-body');
        
        // This is a safety check. If we are on a page without the filter, the script does nothing.
        if (filterInput && tableBody) {
          // Select all data rows (ignoring the 'no-results-row')
          const tableRows = tableBody.querySelectorAll('tr:not(.no-results-row)');
          const noResultsRow = tableBody.querySelector('.no-results-row');

          filterInput.addEventListener('input', (e) => {
            // Get the user's search term, and make it lowercase for case-insensitive matching
            const searchTerm = e.target.value.toLowerCase();
            let visibleRows = 0; // Keep track of matching rows

            // Loop through all the data rows in the table
            tableRows.forEach(row => {
              // Get the text content of the row, also lowercase
              const rowText = row.textContent.toLowerCase();

              // If the row's text includes the search term, show it. Otherwise, hide it.
              if (rowText.includes(searchTerm)) {
                row.style.display = ''; // Resets the style to the default (e.g., 'table-row')
                visibleRows++;
              } else {
                row.style.display = 'none';
              }
            });

            // NEW: Show or hide the "no results" message based on the count
            if (noResultsRow) {
              if (visibleRows === 0) {
                noResultsRow.style.display = 'table-row';
              } else {
                noResultsRow.style.display = 'none';
              }
            }
          });
        }

      const printButton = document.getElementById('print-exhibit-button');

      if (printButton) {
          printButton.addEventListener('click', () => {
              // This simple command opens the browser's print dialog
              window.print();
          });
      }

// --- 5. IN-PAGE SEARCH FUNCTIONALITY ---
const searchInput = document.getElementById('in-page-search-input');
const searchTarget = document.querySelector('.exhibit-content'); // We only search inside the article

// Only run this code if the search input and target exist on the page
if (searchInput && searchTarget) {
    const markInstance = new Mark(searchTarget);
    const prevButton = document.getElementById('in-page-search-prev');
    const nextButton = document.getElementById('in-page-search-next');
    const countEl = document.getElementById('in-page-search-count');
    
    let currentMatch = 0;
    let totalMatches = 0;

    const jumpTo = (index) => {
        const highlights = document.querySelectorAll('.in-page-highlight');
        if (highlights.length > 0) {
            // Remove 'current' class from the old match
            document.querySelector('.current-match')?.classList.remove('current-match');
            
            // Add 'current' class to the new match
            const currentEl = highlights[index];
            currentEl.classList.add('current-match');
            currentEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    };

    const performSearch = () => {
        const keyword = searchInput.value;
        currentMatch = 0;
        
        markInstance.unmark({
            done: () => {
                if (keyword.length > 2) { // Only search for terms longer than 2 characters
                    markInstance.mark(keyword, {
                        element: 'mark',
                        className: 'in-page-highlight',
                        done: (count) => {
                            totalMatches = count;
                            countEl.textContent = totalMatches > 0 ? `1 / ${totalMatches}` : '0 / 0';
                            prevButton.disabled = totalMatches <= 1;
                            nextButton.disabled = totalMatches <= 1;
                            if (totalMatches > 0) {
                                jumpTo(0);
                            }
                        }
                    });
                } else {
                    totalMatches = 0;
                    countEl.textContent = '0 / 0';
                    prevButton.disabled = true;
                    nextButton.disabled = true;
                }
            }
        });
    };

    searchInput.addEventListener('input', performSearch);
    
    nextButton.addEventListener('click', () => {
        if (totalMatches > 0) {
            currentMatch = (currentMatch + 1) % totalMatches;
            countEl.textContent = `${currentMatch + 1} / ${totalMatches}`;
            jumpTo(currentMatch);
        }
    });

    prevButton.addEventListener('click', () => {
        if (totalMatches > 0) {
            currentMatch = (currentMatch - 1 + totalMatches) % totalMatches;
            countEl.textContent = `${currentMatch + 1} / ${totalMatches}`;
            jumpTo(currentMatch);
        }
    });
}

    // --- REVIEWED CHECKBOX FUNCTIONALITY (WORKS ON ALL PAGES) ---

    const reviewedCheckboxes = document.querySelectorAll('.reviewed-checkbox');

    if (reviewedCheckboxes.length > 0) {
        
        // Use a global and unique site identifier for the storage key.
        // This is more robust than using a case number that might only exist on one page.
        // The Nunjucks filter `slugify` is safer than `slug`.
        const storageKey = 'reviewedExhibits_undefined';

        const getReviewedData = () => {
            const data = localStorage.getItem(storageKey);
            return data ? JSON.parse(data) : {};
        };

        const saveReviewedData = (data) => {
            localStorage.setItem(storageKey, JSON.stringify(data));
        };

        const reviewedData = getReviewedData();

        reviewedCheckboxes.forEach(checkbox => {
            const exhibitId = checkbox.dataset.exhibitId;

            // 1. SET INITIAL STATE: This works for the one checkbox on the exhibit page
            // or the 2000+ on the index page.
            if (reviewedData[exhibitId]) {
                checkbox.checked = true;
            }

            // 2. ADD EVENT LISTENER: This listener is added to every single
            // .reviewed-checkbox element found on the current page.
            checkbox.addEventListener('change', () => {
                const currentData = getReviewedData();
                
                if (checkbox.checked) {
                    currentData[exhibitId] = true;
                } else {
                    delete currentData[exhibitId];
                }

                saveReviewedData(currentData);
            });
        });
    }


    // --- 3. BACK TO TOP BUTTON FUNCTIONALITY ---
    // Find the button in the DOM
    const backToTopButton = document.getElementById('back-to-top');

    // Only set up the listener if the button was found
    if (backToTopButton) {
        // Listen for scroll events on the window
        window.addEventListener('scroll', () => {
            // If the user has scrolled more than 300px down...
            if (window.scrollY > 300) {
                // ...make the button visible.
                backToTopButton.style.display = 'block';
            } else {
                // ...otherwise, hide it.
                backToTopButton.style.display = 'none';
            }
        });
    }


      });
      
    </script>

<script>
window.addEventListener('DOMContentLoaded', (event) => {
    
    // This script contains ALL logic for the homepage (filtering, checkboxes, batch open)
    // and is designed to run safely without errors on other pages.

    const exhibitTableBody = document.querySelector('.exhibit-table-body');
    const storageKey = 'reviewedExhibits_undefined';

    // --- MAIN LOGIC FOR THE HOMEPAGE (WHERE THE TABLE EXISTS) ---
    if (exhibitTableBody) {
        
        // 1. GATHER ALL DOM ELEMENTS
        // ------------------------------------
        const textFilterInput = document.getElementById('exhibit-filter');
        const statusFilter = document.getElementById('status-filter');
        const openBtn = document.getElementById('open-unreviewed-btn');
        const exhibitDataElement = document.getElementById('exhibit-data');

        const allTableRows = exhibitTableBody.querySelectorAll('tr:not(.no-results-row)');
        const noResultsRow = exhibitTableBody.querySelector('.no-results-row');
        const reviewedCheckboxes = document.querySelectorAll('.reviewed-checkbox');

        // This is the full list of all exhibits from our hidden JSON data
        const allExhibits = JSON.parse(exhibitDataElement.textContent);
        const TABS_TO_OPEN = 30;
        
        // 2. DEFINE HELPER FUNCTIONS
        // ------------------------------------

        // Gets the reviewed data object from localStorage
        const getReviewedData = () => {
            const data = localStorage.getItem(storageKey);
            return data ? JSON.parse(data) : {};
        };
        
        // Saves the reviewed data object to localStorage
        const saveReviewedData = (data) => {
            localStorage.setItem(storageKey, JSON.stringify(data));
        };

        // This function updates the batch open button's text and state
        const updateOpenBatchButtonState = () => {
            const reviewedData = getReviewedData();
            const unreviewedExhibits = allExhibits.filter(
                exhibit => !reviewedData[exhibit.id]
            );
            const unreviewedCount = unreviewedExhibits.length;

            if (unreviewedCount === 0) {
                openBtn.textContent = 'All Exhibits Reviewed';
                openBtn.disabled = true;
            } else {
                const countToOpen = Math.min(unreviewedCount, TABS_TO_OPEN);
                openBtn.textContent = `Open ${countToOpen} Unreviewed`;
                openBtn.disabled = false;
            }
        };

        // The unified function to filter table rows based on text and status
        const filterTableRows = () => {
            const searchTerm = textFilterInput.value.toLowerCase();
            const statusValue = statusFilter.value;
            const reviewedData = getReviewedData();
            let visibleRows = 0;

            allTableRows.forEach(row => {
                const textMatch = row.textContent.toLowerCase().includes(searchTerm);
                const checkbox = row.querySelector('.reviewed-checkbox');
                const exhibitId = checkbox.dataset.exhibitId;
                const isReviewed = exhibitId && reviewedData[exhibitId];
                
                let statusMatch = false;
                if (statusValue === 'all') statusMatch = true;
                else if (statusValue === 'reviewed') statusMatch = isReviewed;
                else if (statusValue === 'unreviewed') statusMatch = !isReviewed;

                if (textMatch && statusMatch) {
                    row.style.display = '';
                    visibleRows++;
                } else {
                    row.style.display = 'none';
                }
            });
            noResultsRow.style.display = visibleRows === 0 ? 'table-row' : 'none';
        };

        // 3. SET UP EVENT LISTENERS & INITIAL STATE
        // ------------------------------------

        // Initialize checkboxes and add a SINGLE event listener for changes
        const reviewedDataOnLoad = getReviewedData();
        reviewedCheckboxes.forEach(checkbox => {
            const exhibitId = checkbox.dataset.exhibitId;
            if (reviewedDataOnLoad[exhibitId]) {
                checkbox.checked = true;
            }

            checkbox.addEventListener('change', () => {
                const currentData = getReviewedData();
                if (checkbox.checked) {
                    currentData[exhibitId] = true;
                } else {
                    delete currentData[exhibitId];
                }
                saveReviewedData(currentData);
                
                // When a checkbox changes, update EVERYTHING
                filterTableRows();
                updateOpenBatchButtonState();
            });
        });
        
        // Add event listeners for the filters
        textFilterInput.addEventListener('input', filterTableRows);
        statusFilter.addEventListener('change', filterTableRows);

        // Add the click event listener for the batch open button
        openBtn.addEventListener('click', () => {
            const reviewedData = getReviewedData();
            const unreviewedExhibits = allExhibits.filter(exhibit => !reviewedData[exhibit.id]);
            const countToOpen = Math.min(unreviewedExhibits.length, TABS_TO_OPEN);

            if (countToOpen === 0) return;

            const confirmed = confirm(`This will open ${countToOpen} unreviewed exhibits in new tabs.\n\nYour browser may ask for permission. Continue?`);
            if (confirmed) {
                unreviewedExhibits.slice(0, countToOpen).forEach(exhibit => {
                    window.open(exhibit.url, '_blank', 'noopener');
                });
            }
        });

        // 4. RUN INITIALIZATION FUNCTIONS ON PAGE LOAD
        // ------------------------------------
        filterTableRows();
        updateOpenBatchButtonState();
    }

    // --- LOGIC FOR INDIVIDUAL EXHIBIT PAGES ---
    // This logic runs independently from the homepage logic.
    const exhibitPageCheckbox = document.querySelector('.exhibit-meta .reviewed-checkbox');
    if (exhibitPageCheckbox) {
        const getReviewedData = () => JSON.parse(localStorage.getItem(storageKey) || '{}');
        const saveReviewedData = (data) => localStorage.setItem(storageKey, JSON.stringify(data));
        
        const exhibitId = exhibitPageCheckbox.dataset.exhibitId;
        const reviewedData = getReviewedData();

        if (reviewedData[exhibitId]) {
            exhibitPageCheckbox.checked = true;
        }

        exhibitPageCheckbox.addEventListener('change', () => {
            const currentData = getReviewedData();
            if (exhibitPageCheckbox.checked) {
                currentData[exhibitId] = true;
            } else {
                delete currentData[exhibitId];
            }
            saveReviewedData(currentData);
        });
    }

    // --- KEYBOARD SHORTCUTS & EFFICIENCY LOGIC (FOR EXHIBIT PAGES) ---
    // This entire block will only run if we're on a page with exhibit navigation.
    const exhibitNav = document.querySelector('.exhibit-nav');
    if (exhibitNav) {
        
        // --- 1. Define UI elements and helpers ---
        const checkbox = document.querySelector('.exhibit-meta .reviewed-checkbox');
        const nextLink = document.querySelector('.nav-next a');
        const prevLink = document.querySelector('.nav-previous a');
        const toastElement = document.getElementById('toast-notification');
        let toastTimeout;

        // Function to show a temporary message
        const showToast = (message) => {
            clearTimeout(toastTimeout);
            toastElement.textContent = message;
            toastElement.classList.add('show');
            toastTimeout = setTimeout(() => {
                toastElement.classList.remove('show');
            }, 2000); // Message disappears after 2 seconds
        };
        
        // --- 2. Add the master keyboard event listener ---
        window.addEventListener('keydown', (e) => {
            // IMPORTANT: Don't trigger shortcuts if the user is typing in an input field!
            if (['INPUT', 'TEXTAREA', 'SELECT'].includes(document.activeElement.tagName)) {
                return;
            }

            // --- 3. Handle the shortcuts ---

            // Shortcut: Toggle Reviewed Status (Shift + R)
            if (e.shiftKey && e.key.toLowerCase() === 'r') {
                e.preventDefault(); // Prevent typing 'R' if something else is focused
                if (!checkbox) return;
                
                // Toggle the checkbox's state
                checkbox.checked = !checkbox.checked;
                // Manually trigger the 'change' event to save the state to localStorage
                checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                
                showToast(checkbox.checked ? 'Marked as Reviewed' : 'Marked as Unreviewed');
            }

            // Shortcut: Mark as Reviewed AND go to Next (Shift + N)
            if (e.shiftKey && e.key.toLowerCase() === 'n') {
                e.preventDefault();
                if (!checkbox || !nextLink) return;

                // Only mark as reviewed, don't un-mark
                if (!checkbox.checked) {
                    checkbox.checked = true;
                    checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                }
                
                // Navigate to the next exhibit
                nextLink.click();
            }

            // Shortcut: Navigate to Previous Exhibit (Left Arrow)
            if (e.key === 'ArrowLeft') {
                e.preventDefault();
                if (prevLink) {
                    prevLink.click();
                }
            }
            
            // Shortcut: Navigate to Next Exhibit (Right Arrow)
            if (e.key === 'ArrowRight') {
                e.preventDefault();
                if (nextLink) {
                    nextLink.click();
                }
            }
        });
    }




});
</script>

    <a href="#" id="back-to-top" class="back-to-top" title="Back to top">‚Üë</a>
    <div id="toast-notification" class="toast"></div>

	</body>
</html>