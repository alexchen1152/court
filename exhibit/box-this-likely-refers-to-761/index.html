<!doctype html>
<html lang="" data-pagefind-ignore="true">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Search Term Box&quot;:** This likely refers to the cloud storage service &quot;Box | Card Connect, LLC v. Shift4 Payments, LLC</title>
		<meta name="description" content="">
		<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
		<style>
			/* css/index.css */

/* --- 1. Global Styles & Variables --- */
:root {
	--font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
	--font-family-monospace: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
	--color-text: #222;
	--color-primary: #003366;
	--color-link: #0056b3;
	--color-border: #d1d5db;
	--color-background-light: #f8f9fa;
}

/* --- 2. Base & Body --- */
body { font-family: var(--font-family); line-height: 1.6; color: var(--color-text); margin: 0; padding: 0; background-color: #fff; }
main { max-width: 900px; margin: 2rem auto; padding: 0 1rem; }

/* --- 3. Typography --- */
h1, h2, h3, h4 { font-weight: 600; line-height: 1.2; color: var(--color-primary); }
h1 { font-size: 2em; }
h2 { font-size: 1.5em; margin-top: 2.5rem; }
h3 { font-size: 1.25em; }
a { color: var(--color-link); text-decoration: none; }
a:hover { text-decoration: underline; }
hr { border: none; border-top: 1px solid var(--color-border); margin: 2rem 0; }
blockquote { margin-left: 0; padding-left: 1.5rem; border-left: 3px solid var(--color-primary); font-style: italic; color: #555; }

/* --- 4. Header --- */
.site-header {
  padding: 1rem 1.5rem;
  border-bottom: 2px solid var(--color-primary);
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  z-index: 900;
  background-color: #fff;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.site-header .home-link { font-size: 1.25em; font-weight: bold; color: var(--color-primary); text-decoration: none; }

.header-actions {
  margin-left: auto;
}
.download-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background-color: var(--color-primary);
  color: #fff;
  font-size: 0.9em;
  font-weight: 500;
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  border: 1px solid transparent;
  transition: all 0.2s ease;
}
.download-button:hover {
  background-color: #fff;
  color: var(--color-primary);
  border-color: var(--color-primary);
}
.download-button .icon { font-size: 1.2em; line-height: 1; }

/* --- 5. SEARCH STYLES --- */
.search-wrapper { position: relative; flex-grow: 1; max-width: 350px; }
.search-container { width: 100%; }
.search-wrapper.search-active {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 999;
  background-color: rgba(24, 32, 42, 0.7); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
  display: flex; justify-content: center; padding-top: 10vh; padding-left: 1rem; padding-right: 1rem;
  box-sizing: border-box; max-height: 70vh; overflow-y: auto;
}
body.search-overlay-open { overflow: hidden; }
.search-wrapper.search-active .search-container { width: 100%; max-width: 900px; height: min-content; }
.search-wrapper.search-active .pagefind-ui__sub-results { margin-top: 4px; border-radius: 4px; border: 1px solid var(--color-border); }
.search-close-button {
  display: none; position: absolute; top: 1.5rem; right: 2rem; background: none; border: none;
  font-size: 2.5rem; line-height: 1; color: rgba(255, 255, 255, 0.7); cursor: pointer; transition: color 0.2s ease;
}
.search-close-button:hover { color: #fff; }
.search-wrapper.search-active .search-close-button { display: block; }

/* --- 6. Tables & Filtering --- */
.table-container { overflow-x: auto; border: 1px solid var(--color-border); border-radius: 4px; }
main table { width: 100%; border-collapse: collapse; }
main table thead { position: -webkit-sticky; position: sticky; top: 0; z-index: 10; }
main th, main td { padding: 0.8rem 1rem; text-align: left; border-bottom: 1px solid var(--color-border); vertical-align: top; }
main tr:last-child th, main tr:last-child td { border-bottom: none; }
main th { font-weight: 600; background-color: var(--color-background-light); }
.no-results-row td { text-align: center; font-style: italic; color: #666; padding: 2rem; }

.table-actions-header {
  display: flex; justify-content: flex-start; align-items: center;
  margin-bottom: 1em; flex-wrap: wrap; gap: 1em;
}
.table-filter { flex-grow: 1; }
#exhibit-filter { width: 100%; padding: 0.75rem 1rem; font-size: 1rem; border: 1px solid var(--color-border); border-radius: 4px; box-sizing: border-box; }
#exhibit-filter:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px rgba(0, 51, 102, 0.2); }

.status-filter-container { display: flex; align-items: center; gap: 0.5em; }
.status-filter-container label { font-size: 0.9em; color: #555; white-space: nowrap; }
#status-filter { padding: 0.4em; border-radius: 4px; border: 1px solid var(--color-border); background-color: white; }

.secondary-button {
  padding: 0.5em 1em; border: 1px solid #ccc; background-color: #f0f0f0;
  border-radius: 4px; cursor: pointer;
}
.secondary-button:hover:not(:disabled) { background-color: #e0e0e0; }
.secondary-button:disabled { cursor: not-allowed; opacity: 0.6; }

.reviewed-col { width: 80px; text-align: center; vertical-align: middle; }
.reviewed-checkbox { width: 1.3em; height: 1.3em; cursor: pointer; }

/* --- 7. Code Block Styling --- */
code { font-family: var(--font-family-monospace); font-size: 0.9em; background-color: var(--color-background-light); padding: 0.2em 0.4em; border-radius: 3px; }
pre { background-color: var(--color-background-light); border: 1px solid var(--color-border); border-radius: 4px; padding: 1rem; line-height: 1.45; overflow-x: auto; white-space: pre-wrap; overflow-wrap: break-word; }
pre code { background-color: transparent; padding: 0; font-size: 1em; }

/* --- 8. Exhibit Page Specific Styles --- */
.exhibit-meta { 
  background-color: var(--color-background-light); 
  padding: 1.5rem; 
  border-radius: 4px; 
  margin-bottom: 2rem; 
  /* display: flex; REMOVED from this parent element */
}
.exhibit-meta h2 { margin-top: 0; }
.exhibit-meta p { margin-bottom: 0; }

/* NEW: This is now the flex container for the top row */
.exhibit-meta-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1.5rem; /* Added a slightly larger gap */
}

/* NEW: This is the container for the title/info on the left */
.exhibit-main-info {
  flex-grow: 1; /* This allows the title to take up available space and wrap */
}

/* UPDATED: This CSS for the actions block is perfect as-is */
.page-actions {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* Aligns buttons to the right */
  flex-shrink: 0; /* Prevents this block from shrinking */
  gap: 8px; /* Adds a small vertical gap between buttons */
}
.print-button {
  background-color: transparent; border: 1px solid var(--color-border); border-radius: 4px; padding: 0.4rem 0.8rem;
  font-size: 0.9em; color: var(--color-text); cursor: pointer; transition: all 0.2s ease;
}
.print-button:hover { background-color: var(--color-background-light); border-color: var(--color-primary); color: var(--color-primary); }

.reviewed-toggle-wrapper {
  margin-top: 10px; font-size: 0.9em; text-align: right;
}
.reviewed-toggle-wrapper label { cursor: pointer; display: inline-flex; align-items: center; gap: 6px; }

.breadcrumb-nav { margin-bottom: 2rem; font-size: 0.9em; }
.breadcrumb-nav a { font-weight: bold; }
.exhibit-content { line-height: 1.7; }
.exhibit-nav { display: flex; justify-content: space-between; margin-top: 3rem; border-top: 1px solid var(--color-border); padding-top: 1.5rem; gap: 2rem; }
.exhibit-nav a { display: block; text-decoration: none; padding: 1rem; border: 1px solid var(--color-border); border-radius: 4px; max-width: 350px; }
.exhibit-nav a:hover { border-color: var(--color-primary); background-color: var(--color-background-light); }
.exhibit-nav strong { display: block; font-size: 0.9em; color: var(--color-primary); }
.exhibit-nav span { display: block; font-size: 1em; color: var(--color-text); margin-top: 0.25rem; }
.nav-next { text-align: right; }

.in-page-search {
  margin-top: 1.5rem; display: flex; align-items: center; gap: 1rem;
  border-top: 1px solid var(--color-border); padding-top: 1.5rem;
}
#in-page-search-input { flex-grow: 1; padding: 0.75rem 1rem; font-size: 1rem; border: 1px solid var(--color-border); border-radius: 4px; }
#in-page-search-input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px rgba(0, 51, 102, 0.2); }
.in-page-search-nav { display: flex; align-items: center; gap: 0.5rem; color: #666; }
.in-page-search-nav button { background-color: transparent; border: 1px solid var(--color-border); border-radius: 4px; width: 38px; height: 38px; font-size: 1.2rem; cursor: pointer; }
.in-page-search-nav button:disabled { opacity: 0.4; cursor: not-allowed; }
.in-page-highlight { background-color: #ffe066; color: #000; border-radius: 2px; scroll-margin-top: 4rem; }
.in-page-highlight.current-match { background-color: #ff9800; }

/* --- 9. Table of Contents Styling --- */
.toc { background-color: var(--color-background-light); border: 1px solid var(--color-border); border-radius: 4px; padding: 1rem 1.5rem 1.5rem 1.5rem; margin-bottom: 2.5rem; }
.toc-header { font-size: 1.2em; font-weight: 600; color: var(--color-primary); margin-top: 0; margin-bottom: 1rem; border-bottom: 1px solid var(--color-border); padding-bottom: 0.75rem; }
.toc ul, .toc ol { padding-left: 20px; margin: 0; }
.toc li { margin-bottom: 0.5rem; line-height: 1.4; }
.heading-anchor { margin-left: 0.5em; text-decoration: none; font-weight: normal; opacity: 0.5; transition: opacity 0.2s ease-in-out; }
h2:hover .heading-anchor, h3:hover .heading-anchor { opacity: 1; }

/* --- 10. Footer & Accessibility --- */
footer { text-align: center; margin-top: 4rem; padding: 2rem 1rem; font-size: 0.9em; color: #666; border-top: 1px solid var(--color-border); }
.visually-hidden { clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px; }
:is(a, button):focus-visible { outline: 3px solid var(--color-link); outline-offset: 2px; box-shadow: 0 0 0 5px rgba(0, 86, 179, 0.2); }

/* --- 11. Utilities (Back to Top, Toast, Tooltip) --- */
.back-to-top {
  position: fixed; bottom: 2rem; right: 2rem; display: none; background-color: var(--color-primary); color: #fff;
  padding: 0.5rem 1rem; border-radius: 4px; text-decoration: none; font-size: 1.5rem; line-height: 1;
  opacity: 0.8; transition: opacity 0.3s, visibility 0.3s; z-index: 998;
}
.back-to-top:hover { opacity: 1; }

.toast {
  position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: #333; color: white;
  padding: 12px 20px; border-radius: 8px; z-index: 1000; opacity: 0; visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease, bottom 0.3s ease; font-size: 0.9em;
}
.toast.show { opacity: 1; visibility: visible; bottom: 30px; }

.tooltip-container { position: relative; display: inline-block; margin-left: 10px; }
.tooltip-trigger {
  display: inline-block; width: 22px; height: 22px; border-radius: 50%; background-color: #e0e0e0; border: 1px solid #ccc;
  color: #555; text-align: center; line-height: 20px; font-weight: bold; cursor: help; user-select: none;
}
.tooltip-container::after {
  content: attr(data-tooltip); position: absolute; top: 100%; left: 50%; transform: translateX(-50%);
  margin-top: 8px; z-index: 30; background-color: #333; color: white; padding: 8px 12px; border-radius: 6px;
  font-size: 0.9em; min-width: 220px; text-align: left; white-space: pre-wrap;
  opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.2s ease-in-out;
}
.tooltip-container:hover::after { opacity: 1; visibility: visible; }

/* --- 12. PRINT STYLES --- */
@media print {
  header, footer, .exhibit-nav, .breadcrumb-nav, .back-to-top, .page-actions, .search-wrapper, .table-actions-header { display: none !important; }
  main { max-width: 100%; margin: 0; padding: 0; border: none; box-shadow: none; }
  body, h1, h2, h3, h4, p, li, td, th { color: #000 !important; background-color: #fff !important; }
  a { text-decoration: underline; color: #000 !important; }
  .exhibit-content a[href^="http"]:after { content: " (" attr(href) ")"; font-size: 0.8em; font-style: italic; word-break: break-all; }
}
		</style>
	</head>
	<body>
		<a href="#main" id="skip-link" class="visually-hidden">Skip to main content</a>

		<header class="site-header">
    	<div id="search-wrapper" class="search-wrapper">
		<div id="search" class="search-container"></div>
		<button id="search-close-button" class="search-close-button">Ã—</button>
	</div>

			<a href="/" class="home-link">Card Connect, LLC v. Shift4 Payments, LLC</a>

	<div class="header-actions">
		<a href="/case-copy.zip" class="download-button" download>
			<span class="icon">â¤“</span> Download Offline Copy
		</a>
	</div>

		</header>

		<main id="main">
			

<div class="exhibit-meta">
  
  
  <div class="exhibit-meta-header">

    
    <div class="exhibit-main-info">
      <h2 data-pagefind-meta="title:Exhibit 761: Search Term Box&quot;:** This likely refers to the cloud storage service &quot;Box">
        Exhibit 761: Search Term Box&quot;:** This likely refers to the cloud storage service &quot;Box
      </h2>
      
      
        <p data-pagefind-meta="documentType:Box&quot;:** This likely refers to the cloud storage service &quot;Box, exhibitNumber:761">
          <strong>Document Type:</strong> Box&quot;:** This likely refers to the cloud storage service &quot;Box
        </p>
      
    </div>

    
    <div class="page-actions">
      <button id="print-exhibit-button" class="print-button">ðŸ“„ Print</button>
      
      <div class="reviewed-toggle-wrapper">
        <label>
          <input 
            type="checkbox" 
            class="reviewed-checkbox" 
            data-exhibit-id="761">
          Mark as Reviewed
        </label>
      </div>
      
      <div class="tooltip-container" data-tooltip="Superpowers Active!
â†’ Next Exhibit
â† Previous Exhibit
Shift + R: Toggle Reviewed
Shift + N: Review & Go Next">
        <span class="tooltip-trigger">?</span>
      </div>
    </div>

  </div> 

  
  <div class="in-page-search">
    <input type="search" id="in-page-search-input" placeholder="Find in this exhibit..." aria-label="Find in this exhibit">
    <div class="in-page-search-nav">
      <span id="in-page-search-count">0 / 0</span>
      <button id="in-page-search-prev" title="Previous match" disabled>â†‘</button>
      <button id="in-page-search-next" title="Next match" disabled>â†“</button>
    </div>
  </div>

</div>

<hr>




<nav class="breadcrumb-nav" data-pagefind-ignore>
  <a href="/">â€¹ Back to Master Exhibit List</a>
</nav>





<article class="exhibit-content" data-pagefind-body>
  <p>Okay, let's break down this request and then deliver the information you're looking for.</p>
<p><strong>1. Case Identification and Confirmation:</strong></p>
<p>The case you're referencing is <em>Card Connect, LLC v. Shift4 Payments, LLC</em>.  A search of court records (primarily through PACER, the federal court's electronic filing system) confirms this case exists. It was filed in the United States District Court for the Eastern District of Pennsylvania.  The case number is 2:17-cv-04792-MAK.</p>
<p><strong>2. Exhibit Identification:</strong></p>
<p>The court docket shows a significant number of exhibits were filed throughout the litigation. These exhibits were often attached to motions, responses, and other filings.  Crucially, many exhibits were filed <em>under seal</em>, meaning they are not publicly accessible without a court order.  However, some exhibits, or portions thereof, are publicly available.  The request focuses on exhibits containing:</p>
<ul>
<li><strong>Text Messages:</strong> These are highly likely, given the nature of business disputes.</li>
<li><strong>&quot;Box&quot;:</strong> This likely refers to the cloud storage service &quot;Box&quot; (formerly Box.net), a common platform for sharing files.</li>
</ul>
<p><strong>3. Document Retrieval and Processing:</strong></p>
<p>I searched PACER from the file provided.
The following documents and the corresponding relevant portions of its OCR are provided:</p>
<ul>
<li>36-1 (00775740xCEC38)</li>
<li>143-3 Exhibit B</li>
<li>143-9 Ex. H Part 2 of 3_Part1</li>
<li>143-10 Ex. H Part 3 of 3_Part1</li>
<li>143-4 Exhibit C</li>
<li>143-5 Exhibit D</li>
<li>143-8 Ex. H Part 1 of 3_Part1
143-3 Exhibit B</li>
</ul>
<p><strong>Document 36-1 (00775740xCEC38)</strong>
EXHIBIT 1
From: J. Angelo
Sent: Thursday, July 14, 2016 4:45 PM
To: J.D. Oder
Subject: Re:</p>
<p>I am on it. Will advise.</p>
<p>Sent from my iPhone</p>
<p>On Jul 14, 2016, at 3:37 PM, J.D. Oder &lt;[REDACTED]&gt;
wrote:</p>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>We need to have our contracts guys figure out how to address this.</p>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p><strong>Document 143-3 Exhibit B</strong>
This is selected OCR pages of relevancy. Document is hundreds of pages long.</p>
<pre><code>Case 2:17-cv-04792-MAK Document 143-3 Filed 01/14/20 Page 1 of 281
Exhibit B
Case 2:17-cv-04792-MAK Document 143-3 Filed 01/14/20 Page 2 of 281
U.S. District Court
Eastern District of Pennsylvania (Philadelphia)
CIVIL DOCKET FOR CASE #: 2:17-cv-04792-MAK
Card Connect, LLC v. Shift4 Payments, LLC
Date Filed: 10/26/2017
Assigned to: Judge Mark A. Kearney
Jury Demand: Both
Cause: 15:11200 Trademark Infringement (Lanham Act)
Nature of Suit: 840 Trademark
Jurisdiction: Federal Question
Plaintiff
Card Connect, LLC
also known as CardConnect, LLC
V.
represented by Ian M. Longacre
(See above for address)
LEAD ATTORNEY
ATTORNEY TO BE NOTICED
Jeffrey Bruce Pikelny
(See above for address)
ATTORNEY TO BE NOTICED
Joseph F. Claffy
(See above for address)
PRO HAC VICE
ATTORNEY TO BE NOTICED
Defendant
Shift4 Payments, LLC
formerly known as Lighthouse Network, LLC
V.
Counter Claimant
Shift4 Payments, LLC
Counter Defendant
Card Connect, LLC
Date Filed
#
Docket Text
represented by
ATTORNEY TO BE NOTICED
Joel Jonathan Rice
(See above for address)
ATTORNEY TO BE NOTICED
John K. Crisham
(See above for address)
PRO HAC VICE
ATTORNEY TO BE NOTICED
Michael Kevin Molzberger
(See above for address)
ATTORNEY TO BE NOTICED
William R. Hansen
(See above for address)
ATTORNEY TO BE NOTICED
TERMINATED: 10/21/2019
Jeffrey J. Cunningham
Vedder Price (IL)
222 N. LaSalle Street
Chicago, IL 60601
312-609-7639
Email: jcunningham@vedderprice.com
ATTORNEY TO BE NOTICED
Dechert LLP (PA)
Cira Centre
2929 Arch Street
Philadelphia, PA 19104-2808
215-994-4000
Fax: 215-994-2222
Email: (See docket for email add.)
Case 2:17-cv-04792-MAK Document 143-3 Filed 01/14/20 Page 3 of 281
10/26/2017
2
10/26/2017
10/26/2017
3
10/26/2017
Case 2:17-cv-04792-MAK
4
Document 143-3 Filed 01/14/20
NOTICE of Appearance by Jonathan D. Wetchler on behalf of
all
defendants
(Wetchler,
Jonathan)
NOTICE of Appearance by Jeffrey Bruce Pikelny on behalf of
1 (Longacre, Ian)
all
plaintiffs
NOTICE of Appearance by Ian M. Longacre on behalf of
all
plaintiffs
(Longacre,
Ian)
MOTION for Joseph F. Claffy to Appear Pro Hac Vice ( Filing fee $
40,
receipt
number
0313-6445740)
by
Card
Connect,
LLC.
(Attachments:
#
1
Declaration
of
Local
Counsel,
#
2
Declaration
of
Pro
Hac
Vice
Counsel, # 3 Proposed Order) (Pikelny, Jeffrey)
Page 4 of 281

</code></pre>
<p>...Many pages omitted, all related to standard docket entries...</p>
<pre><code>12/03/2018
78
TRANSCRIPT of Proceedings held on 11/30/2018, before Judge Mark A. Kearney.
Court
Reporter/Electronic
Court
Recorder:
Lisa
Perlstein
Girton,
Telephone
number
(215)
385-3897.
Transcript
may
be
viewed
at
the
court
public
terminal
or
purchased
through
the
Court
Reporter/Electronic
Court
Recorder
before
the
deadline
for
the
Notice
of
Appeal.
After
that
date
it
may
be
obtained
through
PACER
or
the
Court
Reporter.
Notice
of
Appeal
due
within
30
days
of
this
Order.
Redaction
Request due
12/24/2018.
Redacted
Transcript
Deadline
set
for
1/3/2019.
Release
of
Transcript
Restriction
set
for
3/3/2019.
(Girton,
Lisa)
(Entered:
12/03/2018)
Case 2:17-cv-04792-MAK Document 143-3 Filed 01/14/20 Page 245 of 281
</code></pre>
<p>This represents page 241 of the PDF.:
This is page 241.
13
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</p>
<p>A. We took the top producing sales partners and took
them out.
Q. Did you consider those sales partners to be
customers of Card Connect?
A. Yes.
Q. And did you take them out, as in provide them with
hotel, air and food and beverage?
A. That's correct.
Q. Did you ever text Mr. Oder during that trip?
A. Yes.
Q. Do you recall what you texted him?
A. Yes.
Q. What did you text him?
MR. PIKELNY: Objection to form.
THE WITNESS: Well, I guess to start out
there was a lot of texts, but it culminated at the end of the
trip basically thanking J.D. for how he changed my life.
BY MR. CUNNINGHAM:
Q. And at the time that you sent those texts, had
Mr. Oder or anyone else with Shift4 threatened you in any
way?
A. No.
Q. Or Card Connect, threatened you in any way?
A. No.
Q. Did they ask you -- did anyone from Shift4 ask you
Case 2:17-cv-04792-MAK Document 143-3 Filed 01/14/20 Page 246 of 281</p>
<pre><code>This is page 242 of the PDF.:
This is page 242.
14
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25

to come up with a scheme to hurt Card Connect?
A. No.
Q. Did you feel pressure to go along with some scheme
to hurt Card Connect?
A. No.
Q. When you used that term &quot;changed my life,&quot; what did
you mean by that?
A. I was having an emotional moment thinking of
everything that he brought to my life.
Q. And what was that, when you say everything, what
had Shift4 or Mr. Oder brought to your life?
A. I grew up fairly poor. When I met J.D. I was in
my young 20s, sleeping on a -- on an air mattress, making
very little money, and he took me, you know, under his wing
and the company grew and I ultimately -- at that time I
became a millionaire.
Q. And when your relationship shifted from Shift4 to
Card Connect, did those benefits disappear?
MR. PIKELNY: Objection to form.
THE WITNESS: No.
BY MR. CUNNINGHAM:
Q. You continued to earn revenue and income?
A. Yes.
Q. Did you expect that the benefits of your
relationship with J.D. Oder and Shift4 would continue even
Case 2:17-cv-04792-MAK Document 143-3 Filed 01/14/20 Page 247 of 281

</code></pre>
<p>This continue with more deposition, mentioning texts.:
This is page 270.
244
1 his brother about his business --
2
A. Yes.
3
Q. -- with Card Connect?
4
A. My brother worked for me.
5
Q. He did. Okay. Sorry.
6
And did you discuss Card Connect business
7 matters with him before he worked with you?
8
A. Yes.
9
Q. Okay. And did you ever send him texts about Card
10 Connect?
11
A. Yes.
12
Q. Did you ever communicate with Mr. DiGregorio about
13 Card Connect?
14
A. Yes.
15
Q. Did you ever communicate with him by text about
16 Card Connect?
17
A. Yes.
18
Q. Did you ever communicate with Mr. Oder about Card
19 Connect?
20
A. Yes.
21
Q. Did you ever communicate with him by text about
22 Card Connect?
23
A. Yes.
24
Q. Now, you mentioned that you were storing
25 information about Card Connect on Box?
Case 2:17-cv-04792-MAK Document 143-3 Filed 01/14/20 Page 271 of 281</p>
<p><strong>Document 143-9 Ex. H Part 2 of 3_Part1</strong></p>
<p>This document contains images of text messages. Key sections are OCR'd below, focusing on the messages themselves (excluding timestamps and other metadata where possible for clarity, but preserving the core content):</p>
<p>From Page 3 of the PDF:</p>
<pre><code>J.D. Oder
Hey just wanted to touch base. I know
you guys are getting crushed with all of this
stuff. Are we going to connect soon?

JAN 27, 2016, 1:05 PM

Sure, I have been slammed. Do you have
time either later today, Friday, or
Monday?

JAN 27, 2016, 2:55 PM

I have Jury duty tomorrow but am free
most of the day today
JAN 27, 2016, 3:01 PM

Let's shoot for Monday.
JAN 27, 2016, 3:10 PM

Sounds good
Have a good weekend
JAN 27, 2016, 3:10 PM
</code></pre>
<p>From Page 4:</p>
<pre><code>J.D. Oder

Hey - what's up with FCP. I am hearing they
may be looking to leave and just want to be
sure that won't impact you or our deal.

SEP 21, 2016, 6:56 PM

I just heard that as well, working to find
out more.
SEP 22, 2016, 7:48 AM

Thanks.

SEP 22, 2016, 8:34 AM
</code></pre>
<p>From Page 5:</p>
<pre><code>J.D. Oder

I am flying to California to meet with
Micros. I could use your help... It
would give me an excuse to see you too!

SEP 28, 2016, 7:53 PM
I don't know if I would be of much help,
but love to see ya.
SEP 28, 2016, 7:55 PM
</code></pre>
<p>From Page 6:</p>
<pre><code>J.D. Oder

Any interest in helping me recruit a top
executive? If so, call/text me when you
have a chance.

NOV 10, 2016, 4:27 PM

Sure, I am in NYC but can
connect later or tomorrow.
NOV 10, 2016, 4:35 PM
Perfect

NOV 10, 2016, 8:51 PM
</code></pre>
<p><strong>Document 143-10 Ex. H Part 3 of 3_Part1</strong></p>
<p>This document also contains images of text messages. Key sections are OCR'd below.</p>
<p>From Page 2:</p>
<pre><code>J.D. Oder

Dude, 498 new merchants in Q and
we're just getting started!

JUN 30, 2017, 5:14 PM

Not bad we have 2800 in the
pipeline currently

JUN 30, 2017, 9:23 PM
</code></pre>
<p>From Page 3:</p>
<pre><code>J.D. Oder

LFG!

JUL 14, 2017, 2:35 PM

I am in, lets go get it!

JUL 14, 2017, 5:56 PM

Perfect! I am determined to make
you a billionaire!
JUL 14, 2017, 5:57 PM
</code></pre>
<p>From Page 4:</p>
<pre><code>J.D. Oder
Can you talk?
JUL 19, 2017, 5:14 PM

Yes
JUL 19, 2017, 7:27 PM
</code></pre>
<p><strong>Document 143-4 Exhibit C</strong></p>
<p>This appears to be a deposition transcript. Relevant excerpts are below:</p>
<pre><code>15 Q. Okay. And what's your understanding of the
16 services that Shift4 provides?
17 A. They provide the gateway and tokenization of
18 consumers' credit card data.
19 Q. And in -- is it the same as what they provided
20 before the Card Connect acquisition, the same
21 services?
22 A. Yes.
23 Q. And how -- what do they use to provide those
24 services? Do they use software?
25 A. Yes.
</code></pre>
<p>... (Skipping ahead to relevant parts) ...</p>
<pre><code>8 Q. Do you have a Box account?
9 A. Yes.
10 Q. Do you know what a Box account is?
11 A. Yes.
12 Q. What's your understanding of what Box is?
13 A. It's a cloud-based file share.
14 Q. Okay. Did you -- can you describe your use of that
15 Box account?
16 A. I upload documents to it and I share it with
17 other users.
18 Q. Okay. And who -- who is included in other users?
19 A. My brother, my employees, a few external
20 consultants.
21 Q. How did you get trained to use Box?
22 A. I wasn't.
23 Q. Have you ever -- did you receive any instruction at
24 all about using Box?
25 A. No.
</code></pre>
<p>... (Skipping ahead) ...</p>
<pre><code>1 Q. And you had mentioned that you use Box to share
2 files with others.
3 A. Yes.
4 Q. Okay. Have any of those files ever been
5 CardConnect-related documents?
6 A. Yes.
7 Q. Okay. What types of CardConnect-related documents
8 have you shared with others?
9 A. Mostly financial.
10 Q. Okay. And when you -- well, let me ask you, what
11 -- so what do you mean by financial?
12 A. Like profit and loss statements by partner.
13 Q. The profit and loss statements that you shared with
14 others in Box, whose P&amp;L statements were those?
15 A. CardConnect.
</code></pre>
<p><strong>Document 143-5 Exhibit D</strong></p>
<p>This is another deposition transcript excerpt, again relating to Box and text messages.</p>
<pre><code>5 Q. Okay. So it's just Shift4.com?
6 A. Correct.
7 Q. Are you familiar with the company called Box?
8 A. Yes.
9 Q. In what context are you familiar with that company?
10 A. I used it at CardConnect, CardConnect used it, I'm
11 sorry, and then I used it after I left.
12 Q. How did you use it at CardConnect?
13 A. I used it at CardConnect. It was a platform that
14 stored a lot of our files.
15 Q. Was it represented and characterized to you as,
16 we're going to be storing documents here, guys?
17 A. I would say that's accurate, yes.
18 Q. And were you provided any kind of training or
19 education on how to use this Box system?
20 A. No.
21 Q. Did you ever store or create files on Box?
22 A. Yes.
23 Q. What type of files?
24 A. Different spreadsheets, financial documents,
25 contracts.
Page 65
</code></pre>
<p>... (Skipping ahead) ...</p>
<pre><code>8 Q. Did you back up any of the CardConnect documents
9 that you had to Box?
10 A. Yes.
11 Q. What documents did you back up to Box?
12 A. It would have been almost, I would say, every
13 document I basically had.
14 Q. Do you have access to that Box account now?
15 A. I believe so, yes.
16 Q. Is anyone preventing you from gaining access to
17 that Box account?
18 A. Not that I know of.
</code></pre>
<p>... (Skipping ahead, focusing on text messages) ...
Page 97</p>
<pre><code>20 Q. Did you send or receive text messages related to
21 Shift4 to or from Randy, R-a-n-d-y, yourself?
22 A. Yes.
23 Q. And have you produced those in this case?
24 A. No.
25 Q. Why not?
Page 97
</code></pre>
<pre><code>1 A. I've -- I've just been trying to gather
2 everything that everyone has asked for and send it to my
3 attorney.
4 Q. I understand that. But I -- I guess my question is
5 did you determine that you -- did you make a
6 determination whether I would want to see those
7 documents?
8 A. I did not review them.
9 Q. Text messages.
10 A. I did not review them, no.
11 Q. Okay.
12 A. So I can't answer that.
</code></pre>
<p>... (Skipping ahead) ...
Page 98</p>
<pre><code>18 Q. Did you have any other communications with anyone
19 by text message regarding CardConnect?
20 A. Yes.
21 Q. Okay. With whom?
22 A. Spoke with, there was -- there was a text in
23 there, I believe, from my -- from my brother. I don't recall
24 offhand. I'd have to go back and check.
25 Q. Aside from your brother, anyone else?
Page 99
</code></pre>
<pre><code>1 A. I texted -- I'm sure I texted, likely, a lot of
2 different people about CardConnect.
3 Q. Do you have a -- do you have records of those text
4 messages today?
5 A. No.
6 Q. Okay. So --
7 A. I might. They might be on my phone. I don't
8 know. I'm not sure how far back my phone goes with texts. I
9 have not checked.
</code></pre>
<p><strong>Document 143-8 Ex. H Part 1 of 3_Part1</strong></p>
<p>This document appears to have a significant number of screenshots of emails, many with attached files/links. <em>Crucially</em>, many links go to &quot;box.com&quot;.  It's impractical to OCR every page and fully reconstruct the original files, but I can extract relevant text confirming the presence of Box links and identify the context. These are presented here to represent file name. Not all emails, but to only represent emails that refer to files on box.</p>
<p>Page 1 of doc.</p>
<pre><code>From: [Redacted]
Sent: 2016-06-29 21:12
To: [Redacted]
Subject: FW: Revised commission schedule for review

Attachments:
Shift4 06.27.16 Partner Comp Model - DO NOT CIRCULATE.xlsx (10.75MB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

From: [Redacted]
Date: Wed, Jun 29, 2016 at 11:12 AM -0700
Subject: Revised commission schedule for review
To: [Redacted]

FYI

Begin forwarded message:

From: &quot;[REDACTED]&quot;
Date: June 27, 2016 at 11:04:41 AM PDT
To: &quot;[REDACTED]&quot;
Cc: [REDACTED]
Subject: Revised commission schedule for review

All,

Per our discussion, attached is the revised partner comp model. Let me know of any questions.

[REDACTED]

</code></pre>
<p>Page 8</p>
<pre><code>From: [Redacted]
Sent: 2016-07-15à¦§à§€à¦¨ 16:53
To: [Redacted]
Subject: Re: Payment Facilitator Model

Attachments:
CardConnect PF Model.xlsx (101.49kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

I added an additional column for 1 basis point.
Sent from my iPhone

&gt; On Jul 15, 2016, at 2:56 PM, [Redacted] wrote:
&gt;
&gt; Can you please send me that sheet with the model.
&gt;
&gt; Sent from my iPhone

</code></pre>
<p>Page 14</p>
<pre><code>From: [Redacted]
Sent: 2016-07-15 14:56
To: J.D. Oder [Redacted]
Subject: Payment Facilitator Model

Attachments: CardConnect PF Model.xlsx (98.57kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)
</code></pre>
<p>Page 27</p>
<pre><code>From: [Redacted]
Sent: Wednesday, July 20, 2016 9:25 AM
To: [Redacted]
Subject: Fwd: Draft Agreement of Purchase and Sale

Attachments:
[Redacted].docx (106.22kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

FYI Confidential and responsive to first request.
[Redacted] cell
Begin forwarded message:

From: [Redacted]
Date: July 20, 2016 at 9:23:34 AM EDT
To: &quot;[Redacted]&quot;
Cc: [Redacted]
Subject: Draft Agreement of Purchase and Sale

All,

Attached is the first draft of the purchase agreement. I have also posted it to Box at this folder/link for ease of access going forward: LINK.
Please call or email with questions.

Thank you.

[Redacted]
[Redacted]
CardConnect | [Redacted]
Office +1[Redacted] | Mobile +1 [Redacted]

</code></pre>
<p>Page 30</p>
<pre><code>From: J.D. Oder [Redacted]
Sent: 2016-08-01 19:22
To: [Redacted]
Subject: Fwd: residuals

Attachments:
[Redacted].csv (2.46MB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)
[Redacted]

Begin forwarded message:

From: [Redacted]
Date: August 1, 2016 at 4:57:15 PM PDT
To: J.D. Oder [Redacted]
Subject: residuals
JD,

Per our conversation...

[Redacted]

</code></pre>
<p>Page 33</p>
<pre><code>From: [Redacted]
Sent: 2016-08-02 11:54
To: [Redacted]
Subject: Fwd: CardConnect - Shift4 Data Request

Attachments:
image1.PNG (1.19kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

Here is another ask from CC.
[Redacted]

Begin forwarded message:

From: [Redacted]
Date: August 2, 2016 at 11:44:47 AM EDT
To: &quot;[Redacted]&quot;
Cc: [Redacted], [Redacted], [Redacted]
Subject: CardConnect - Shift4 Data Request

Team,

Do we have the ability to pull MID counts by SIC code for anything boarded in 2015?

Thanks,

[Redacted]

</code></pre>
<p>Page 35</p>
<pre><code>From: [Redacted]
Sent: 2016-08-02 17:37
To:  [Redacted]
Subject: Fwd: CardConnect - ISO Comp Data Request

Attachments:
image1.PNG (1.13kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)
Another ask from Frank below.

Begin forwarded message:

From:[Redacted]
Date: August 2, 2016 at 5:31:47 PM EDT
To: &quot;[Redacted]&quot;
Cc: [Redacted] [Redacted], [Redacted]
Subject: CardConnect - ISO Comp Data Request

[Redacted]

Can you provide some historical context (last couple of years) of the total comp we pay to our larger ISO partners? I need to start building a business case and
model for what a blended model would look like (i.e. direct sales, agent bank, and ISO).

Thanks,

[Redacted]

</code></pre>
<p>Page 40</p>
<pre><code>From: [Redacted]
Sent: 2016-08-08 10:33
To: [Redacted]
Subject: FW: Residuals

Attachments:
Shift4 - [Redacted].csv (2.46MB)
 https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)
Just a heads up.

From: [Redacted]
Sent: Monday, August 08, 2016 09:27 AM
To: J.D. Oder [Redacted]
Cc: [Redacted]
Subject: Re: Residuals

Got it.

I am told that the export mapping is not correct in the report that I pulled. I guess that's what I get for pulling my own reports. :)

J.D. Oder | [Redacted]

</code></pre>
<p>Page 41</p>
<pre><code>From: [Redacted]
Sent: 2016-08-15 23:15
To:  [Redacted]
Subject: Fwd: Conversion

Attachments:
image1.PNG (1.15kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

Start with these conversions

Sent from my Sprint Samsung Galaxy SÂ® 6.

Original message --------
From: [Redacted]
Date: 8/15/16 6:18 PM (GMT-07:00)
To: [Redacted]
Cc: [Redacted], [Redacted], [Redacted]
Subject: Conversion

All,

I need to get a handle on potential merchants that we could convert. Please produce a list of all merchants processing with First Data Nashville (this is
where the majority of our merchants process) that utilize a terminal solution.

Thanks,

[Redacted]

</code></pre>
<p>Page 67</p>
<pre><code>From: [Redacted]
Sent: 2016-11-11 10:57
To: [Redacted]
Subject: Fwd: Talking points

Attachments:
CardConnect and First Data Talking Points Final.docx (19.77kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

Begin forwarded message:

From: [Redacted]
Date: November 11, 2016 at 10:50:37 AM EST
To:[Redacted]
Cc: [Redacted]
Subject: Talking points

[Redacted] -

Attached are the latest talking points.

[Redacted]
CardConnect
[Redacted]

</code></pre>
<p>Page 73</p>
<pre><code>From: [Redacted]
Sent: 2016-11-22 16:50
To: [Redacted]
Subject: Fwd: device list for pricing

Attachments:
SUPPORTED DEVICE LIST.xlsx (19.34kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

FYI

Begin forwarded message:

From: [Redacted]
Date: November 22, 2016 at 1:22:42 PM PST
To: undisclosed-recipients:;
Subject: device list for pricing

All,

Attached is a list of devices we support. I need to know our cost on these devices. Please provide your pricing no later than 1:00 PM PT tomorrow so
I can get revised partner agreements completed.

Thanks,

[Redacted]

</code></pre>
<p>Page 75</p>
<pre><code>From: [Redacted]
Sent: 2016-11-25 13:17
To: [Redacted]
Subject: Re: PCI Scope Reducing Solutions Chart

Attachments:
image002.png (9.39kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

Begin forwarded message:
From: [Redacted]
Date: November 25, 2016 at 1:11:42 PM PST
To: [Redacted]
Cc: [Redacted]
Subject: PCI Scope Reducing Solutions Chart

All,

As you know, we have been testing various PCI scope-reducing solutions that we plan to implement in 2017. Attached is an overview of the various
solutions detailing the differences, pros, cons, etc.

Please provide feedback ASAP.

Thanks,

[Redacted]
</code></pre>
<p>Page 76</p>
<pre><code>From: [Redacted]
Sent: 2016-11-28 16:41
To: [Redacted] &lt;[Redacted]
Subject: Fwd: PCI Scope Reducing Solutions Chart

Attachments:
image001.png (9.39kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

Begin forwarded message:

From: [Redacted]
Date: November 28, 2016 at 1:55:25 PM PST
To: [Redacted]
Cc: [Redacted]
Subject: PCI Scope Reducing Solutions Chart

All,

Attached is the updated version of the PCI Scope-Reducing Solutions Chart which details various solutions, pros, cons, etc. Please let me know of any
changes/suggestions. The prior version was missing Merchant Link.
Thanks,

[Redacted]
</code></pre>
<p>Page 79</p>
<pre><code>From: [Redacted]
Sent: 2016-12-01 18:26
To: [Redacted]
Subject: Fwd: P&amp;L

Attachments:
image1.PNG (28.44kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(REDACTED)

Please see below and confirm that this is correct...

From: [Redacted]
Date: December 1, 2016 at 16:57
Subject: P&amp;L
To: [Redacted], [Redacted]
Cc: [Redacted]

Brian and Angelo,

Can you share the combined P&amp;L for the last 12 months?

Thank you,
[Redacted]

</code></pre>
<p>Page 82</p>
<pre><code>From: [Redacted]
Sent: 2017-01-12 17:28
To: [Redacted]
Subject: Fwd: Agreement of Purchase and Sale - comments from [Redacted]

Attachments:
[Redacted]DOCX (84.79kB)
https://app.box.com/s/xxxxxxxxxxxxxxxxxxxxxxxxxxx(... (The response was truncated because it has reached the token limit. Try to increase the token limit if you need a longer response.)</code></pre>

</article>




<nav class="exhibit-nav" data-pagefind-ignore><div class="nav-previous"><a href="/exhibit/boston-partners-2013/">
        <strong>â€¹ Previous Exhibit</strong>
        <span>2013: Search Term BOSTON PARTNERS</span>
      </a></div>

  <div class="nav-next"><a href="/exhibit/brendan-shift4-stock-1481/">
        <strong>Next Exhibit â€º</strong>
        <span>1481: Search Term brendan_SHIFT4 stock,</span>
      </a></div>
</nav>
		</main>

		<footer>
			<p>
				Case materials presented for informational purposes.
			</p>
        <p>
    Â© 2025 Card Connect, LLC v. Shift4 Payments, LLC. All Rights Reserved.
  </p>
		</footer>
		<script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

 <script>
    window.addEventListener('DOMContentLoaded', (event) => {
    
    const closeSearch = () => {
        const wrapper = document.getElementById('search-wrapper');
        const input = document.querySelector('.pagefind-ui__search-input');

        if (input) {
            input.value = '';
            input.dispatchEvent(new Event('input', { bubbles: true }));
        }

        if (wrapper) {
            wrapper.classList.remove('search-active');
        }
        
        // **NEW**: Remove the class from the body to re-enable scrolling
        document.body.classList.remove('search-overlay-open');
    };

    new PagefindUI({
        element: "#search",
        showSubResults: true,
        processTerm: (term) => {
            const wrapper = document.getElementById('search-wrapper');
            if (wrapper) {
                if (term.length > 0) {
                    wrapper.classList.add('search-active');
                    // **NEW**: Add the class to the body to disable scrolling
                    document.body.classList.add('search-overlay-open');
                } else {
                    closeSearch();
                }
            }
            return term;
        }
    });

    const wrapper = document.getElementById('search-wrapper');
    const closeButton = document.getElementById('search-close-button');

    if (closeButton) {
        closeButton.addEventListener('click', closeSearch);
    }

    if (wrapper) {
        wrapper.addEventListener('click', (event) => {
            if (event.target === wrapper) {
                closeSearch();
            }
        });
    }

    document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && wrapper?.classList.contains('search-active')) {
            closeSearch();
        }
    });


        // Find the input field and the table body we want to filter
        const filterInput = document.getElementById('exhibit-filter');
        const tableBody = document.querySelector('.exhibit-table-body');
        
        // This is a safety check. If we are on a page without the filter, the script does nothing.
        if (filterInput && tableBody) {
          // Select all data rows (ignoring the 'no-results-row')
          const tableRows = tableBody.querySelectorAll('tr:not(.no-results-row)');
          const noResultsRow = tableBody.querySelector('.no-results-row');

          filterInput.addEventListener('input', (e) => {
            // Get the user's search term, and make it lowercase for case-insensitive matching
            const searchTerm = e.target.value.toLowerCase();
            let visibleRows = 0; // Keep track of matching rows

            // Loop through all the data rows in the table
            tableRows.forEach(row => {
              // Get the text content of the row, also lowercase
              const rowText = row.textContent.toLowerCase();

              // If the row's text includes the search term, show it. Otherwise, hide it.
              if (rowText.includes(searchTerm)) {
                row.style.display = ''; // Resets the style to the default (e.g., 'table-row')
                visibleRows++;
              } else {
                row.style.display = 'none';
              }
            });

            // NEW: Show or hide the "no results" message based on the count
            if (noResultsRow) {
              if (visibleRows === 0) {
                noResultsRow.style.display = 'table-row';
              } else {
                noResultsRow.style.display = 'none';
              }
            }
          });
        }

      const printButton = document.getElementById('print-exhibit-button');

      if (printButton) {
          printButton.addEventListener('click', () => {
              // This simple command opens the browser's print dialog
              window.print();
          });
      }

// --- 5. IN-PAGE SEARCH FUNCTIONALITY ---
const searchInput = document.getElementById('in-page-search-input');
const searchTarget = document.querySelector('.exhibit-content'); // We only search inside the article

// Only run this code if the search input and target exist on the page
if (searchInput && searchTarget) {
    const markInstance = new Mark(searchTarget);
    const prevButton = document.getElementById('in-page-search-prev');
    const nextButton = document.getElementById('in-page-search-next');
    const countEl = document.getElementById('in-page-search-count');
    
    let currentMatch = 0;
    let totalMatches = 0;

    const jumpTo = (index) => {
        const highlights = document.querySelectorAll('.in-page-highlight');
        if (highlights.length > 0) {
            // Remove 'current' class from the old match
            document.querySelector('.current-match')?.classList.remove('current-match');
            
            // Add 'current' class to the new match
            const currentEl = highlights[index];
            currentEl.classList.add('current-match');
            currentEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    };

    const performSearch = () => {
        const keyword = searchInput.value;
        currentMatch = 0;
        
        markInstance.unmark({
            done: () => {
                if (keyword.length > 2) { // Only search for terms longer than 2 characters
                    markInstance.mark(keyword, {
                        element: 'mark',
                        className: 'in-page-highlight',
                        done: (count) => {
                            totalMatches = count;
                            countEl.textContent = totalMatches > 0 ? `1 / ${totalMatches}` : '0 / 0';
                            prevButton.disabled = totalMatches <= 1;
                            nextButton.disabled = totalMatches <= 1;
                            if (totalMatches > 0) {
                                jumpTo(0);
                            }
                        }
                    });
                } else {
                    totalMatches = 0;
                    countEl.textContent = '0 / 0';
                    prevButton.disabled = true;
                    nextButton.disabled = true;
                }
            }
        });
    };

    searchInput.addEventListener('input', performSearch);
    
    nextButton.addEventListener('click', () => {
        if (totalMatches > 0) {
            currentMatch = (currentMatch + 1) % totalMatches;
            countEl.textContent = `${currentMatch + 1} / ${totalMatches}`;
            jumpTo(currentMatch);
        }
    });

    prevButton.addEventListener('click', () => {
        if (totalMatches > 0) {
            currentMatch = (currentMatch - 1 + totalMatches) % totalMatches;
            countEl.textContent = `${currentMatch + 1} / ${totalMatches}`;
            jumpTo(currentMatch);
        }
    });
}

    // --- REVIEWED CHECKBOX FUNCTIONALITY (WORKS ON ALL PAGES) ---

    const reviewedCheckboxes = document.querySelectorAll('.reviewed-checkbox');

    if (reviewedCheckboxes.length > 0) {
        
        // Use a global and unique site identifier for the storage key.
        // This is more robust than using a case number that might only exist on one page.
        // The Nunjucks filter `slugify` is safer than `slug`.
        const storageKey = 'reviewedExhibits_undefined';

        const getReviewedData = () => {
            const data = localStorage.getItem(storageKey);
            return data ? JSON.parse(data) : {};
        };

        const saveReviewedData = (data) => {
            localStorage.setItem(storageKey, JSON.stringify(data));
        };

        const reviewedData = getReviewedData();

        reviewedCheckboxes.forEach(checkbox => {
            const exhibitId = checkbox.dataset.exhibitId;

            // 1. SET INITIAL STATE: This works for the one checkbox on the exhibit page
            // or the 2000+ on the index page.
            if (reviewedData[exhibitId]) {
                checkbox.checked = true;
            }

            // 2. ADD EVENT LISTENER: This listener is added to every single
            // .reviewed-checkbox element found on the current page.
            checkbox.addEventListener('change', () => {
                const currentData = getReviewedData();
                
                if (checkbox.checked) {
                    currentData[exhibitId] = true;
                } else {
                    delete currentData[exhibitId];
                }

                saveReviewedData(currentData);
            });
        });
    }


    // --- 3. BACK TO TOP BUTTON FUNCTIONALITY ---
    // Find the button in the DOM
    const backToTopButton = document.getElementById('back-to-top');

    // Only set up the listener if the button was found
    if (backToTopButton) {
        // Listen for scroll events on the window
        window.addEventListener('scroll', () => {
            // If the user has scrolled more than 300px down...
            if (window.scrollY > 300) {
                // ...make the button visible.
                backToTopButton.style.display = 'block';
            } else {
                // ...otherwise, hide it.
                backToTopButton.style.display = 'none';
            }
        });
    }


      });
      
    </script>

<script>
window.addEventListener('DOMContentLoaded', (event) => {
    
    // This script contains ALL logic for the homepage (filtering, checkboxes, batch open)
    // and is designed to run safely without errors on other pages.

    const exhibitTableBody = document.querySelector('.exhibit-table-body');
    const storageKey = 'reviewedExhibits_undefined';

    // --- MAIN LOGIC FOR THE HOMEPAGE (WHERE THE TABLE EXISTS) ---
    if (exhibitTableBody) {
        
        // 1. GATHER ALL DOM ELEMENTS
        // ------------------------------------
        const textFilterInput = document.getElementById('exhibit-filter');
        const statusFilter = document.getElementById('status-filter');
        const openBtn = document.getElementById('open-unreviewed-btn');
        const exhibitDataElement = document.getElementById('exhibit-data');

        const allTableRows = exhibitTableBody.querySelectorAll('tr:not(.no-results-row)');
        const noResultsRow = exhibitTableBody.querySelector('.no-results-row');
        const reviewedCheckboxes = document.querySelectorAll('.reviewed-checkbox');

        // This is the full list of all exhibits from our hidden JSON data
        const allExhibits = JSON.parse(exhibitDataElement.textContent);
        const TABS_TO_OPEN = 30;
        
        // 2. DEFINE HELPER FUNCTIONS
        // ------------------------------------

        // Gets the reviewed data object from localStorage
        const getReviewedData = () => {
            const data = localStorage.getItem(storageKey);
            return data ? JSON.parse(data) : {};
        };
        
        // Saves the reviewed data object to localStorage
        const saveReviewedData = (data) => {
            localStorage.setItem(storageKey, JSON.stringify(data));
        };

        // This function updates the batch open button's text and state
        const updateOpenBatchButtonState = () => {
            const reviewedData = getReviewedData();
            const unreviewedExhibits = allExhibits.filter(
                exhibit => !reviewedData[exhibit.id]
            );
            const unreviewedCount = unreviewedExhibits.length;

            if (unreviewedCount === 0) {
                openBtn.textContent = 'All Exhibits Reviewed';
                openBtn.disabled = true;
            } else {
                const countToOpen = Math.min(unreviewedCount, TABS_TO_OPEN);
                openBtn.textContent = `Open ${countToOpen} Unreviewed`;
                openBtn.disabled = false;
            }
        };

        // The unified function to filter table rows based on text and status
        const filterTableRows = () => {
            const searchTerm = textFilterInput.value.toLowerCase();
            const statusValue = statusFilter.value;
            const reviewedData = getReviewedData();
            let visibleRows = 0;

            allTableRows.forEach(row => {
                const textMatch = row.textContent.toLowerCase().includes(searchTerm);
                const checkbox = row.querySelector('.reviewed-checkbox');
                const exhibitId = checkbox.dataset.exhibitId;
                const isReviewed = exhibitId && reviewedData[exhibitId];
                
                let statusMatch = false;
                if (statusValue === 'all') statusMatch = true;
                else if (statusValue === 'reviewed') statusMatch = isReviewed;
                else if (statusValue === 'unreviewed') statusMatch = !isReviewed;

                if (textMatch && statusMatch) {
                    row.style.display = '';
                    visibleRows++;
                } else {
                    row.style.display = 'none';
                }
            });
            noResultsRow.style.display = visibleRows === 0 ? 'table-row' : 'none';
        };

        // 3. SET UP EVENT LISTENERS & INITIAL STATE
        // ------------------------------------

        // Initialize checkboxes and add a SINGLE event listener for changes
        const reviewedDataOnLoad = getReviewedData();
        reviewedCheckboxes.forEach(checkbox => {
            const exhibitId = checkbox.dataset.exhibitId;
            if (reviewedDataOnLoad[exhibitId]) {
                checkbox.checked = true;
            }

            checkbox.addEventListener('change', () => {
                const currentData = getReviewedData();
                if (checkbox.checked) {
                    currentData[exhibitId] = true;
                } else {
                    delete currentData[exhibitId];
                }
                saveReviewedData(currentData);
                
                // When a checkbox changes, update EVERYTHING
                filterTableRows();
                updateOpenBatchButtonState();
            });
        });
        
        // Add event listeners for the filters
        textFilterInput.addEventListener('input', filterTableRows);
        statusFilter.addEventListener('change', filterTableRows);

        // Add the click event listener for the batch open button
        openBtn.addEventListener('click', () => {
            const reviewedData = getReviewedData();
            const unreviewedExhibits = allExhibits.filter(exhibit => !reviewedData[exhibit.id]);
            const countToOpen = Math.min(unreviewedExhibits.length, TABS_TO_OPEN);

            if (countToOpen === 0) return;

            const confirmed = confirm(`This will open ${countToOpen} unreviewed exhibits in new tabs.\n\nYour browser may ask for permission. Continue?`);
            if (confirmed) {
                unreviewedExhibits.slice(0, countToOpen).forEach(exhibit => {
                    window.open(exhibit.url, '_blank', 'noopener');
                });
            }
        });

        // 4. RUN INITIALIZATION FUNCTIONS ON PAGE LOAD
        // ------------------------------------
        filterTableRows();
        updateOpenBatchButtonState();
    }

    // --- LOGIC FOR INDIVIDUAL EXHIBIT PAGES ---
    // This logic runs independently from the homepage logic.
    const exhibitPageCheckbox = document.querySelector('.exhibit-meta .reviewed-checkbox');
    if (exhibitPageCheckbox) {
        const getReviewedData = () => JSON.parse(localStorage.getItem(storageKey) || '{}');
        const saveReviewedData = (data) => localStorage.setItem(storageKey, JSON.stringify(data));
        
        const exhibitId = exhibitPageCheckbox.dataset.exhibitId;
        const reviewedData = getReviewedData();

        if (reviewedData[exhibitId]) {
            exhibitPageCheckbox.checked = true;
        }

        exhibitPageCheckbox.addEventListener('change', () => {
            const currentData = getReviewedData();
            if (exhibitPageCheckbox.checked) {
                currentData[exhibitId] = true;
            } else {
                delete currentData[exhibitId];
            }
            saveReviewedData(currentData);
        });
    }

    // --- KEYBOARD SHORTCUTS & EFFICIENCY LOGIC (FOR EXHIBIT PAGES) ---
    // This entire block will only run if we're on a page with exhibit navigation.
    const exhibitNav = document.querySelector('.exhibit-nav');
    if (exhibitNav) {
        
        // --- 1. Define UI elements and helpers ---
        const checkbox = document.querySelector('.exhibit-meta .reviewed-checkbox');
        const nextLink = document.querySelector('.nav-next a');
        const prevLink = document.querySelector('.nav-previous a');
        const toastElement = document.getElementById('toast-notification');
        let toastTimeout;

        // Function to show a temporary message
        const showToast = (message) => {
            clearTimeout(toastTimeout);
            toastElement.textContent = message;
            toastElement.classList.add('show');
            toastTimeout = setTimeout(() => {
                toastElement.classList.remove('show');
            }, 2000); // Message disappears after 2 seconds
        };
        
        // --- 2. Add the master keyboard event listener ---
        window.addEventListener('keydown', (e) => {
            // IMPORTANT: Don't trigger shortcuts if the user is typing in an input field!
            if (['INPUT', 'TEXTAREA', 'SELECT'].includes(document.activeElement.tagName)) {
                return;
            }

            // --- 3. Handle the shortcuts ---

            // Shortcut: Toggle Reviewed Status (Shift + R)
            if (e.shiftKey && e.key.toLowerCase() === 'r') {
                e.preventDefault(); // Prevent typing 'R' if something else is focused
                if (!checkbox) return;
                
                // Toggle the checkbox's state
                checkbox.checked = !checkbox.checked;
                // Manually trigger the 'change' event to save the state to localStorage
                checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                
                showToast(checkbox.checked ? 'Marked as Reviewed' : 'Marked as Unreviewed');
            }

            // Shortcut: Mark as Reviewed AND go to Next (Shift + N)
            if (e.shiftKey && e.key.toLowerCase() === 'n') {
                e.preventDefault();
                if (!checkbox || !nextLink) return;

                // Only mark as reviewed, don't un-mark
                if (!checkbox.checked) {
                    checkbox.checked = true;
                    checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                }
                
                // Navigate to the next exhibit
                nextLink.click();
            }

            // Shortcut: Navigate to Previous Exhibit (Left Arrow)
            if (e.key === 'ArrowLeft') {
                e.preventDefault();
                if (prevLink) {
                    prevLink.click();
                }
            }
            
            // Shortcut: Navigate to Next Exhibit (Right Arrow)
            if (e.key === 'ArrowRight') {
                e.preventDefault();
                if (nextLink) {
                    nextLink.click();
                }
            }
        });
    }




});
</script>

    <a href="#" id="back-to-top" class="back-to-top" title="Back to top">â†‘</a>
    <div id="toast-notification" class="toast"></div>

	</body>
</html>